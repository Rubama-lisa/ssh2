"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[565],{12393:function(e,t,o){o.d(t,{Z:function(){return d}});var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"backdrop-blur-2xl bg-dark-N16 cursor-pointer fixed h-14 right-6 rounded-full transition-opacity w-14",style:{opacity:e.showBackToTopOpacity,bottom:e.showBackToTopBottom+"px"},on:{click:function(t){return t.stopPropagation(),e.scrollToTop.apply(null,arguments)}}},[s("img",{staticClass:"mx-auto",style:{marginTop:"23px"},attrs:{src:o(80779)}})])},n=[];const i=22,a=56,r=window.innerHeight;var l={name:"BackToTop",data(){return{showBackToTopBottom:-a,showBackToTopOpacity:0}},computed:{scrollableEl(){return this.$el.parentElement}},beforeUnmount(){this.scrollableEl.removeEventListener("scroll",this.onScroll)},mounted(){this.scrollableEl.addEventListener("scroll",this.onScroll)},methods:{onScroll(e){const t=r,{scrollTop:o}=e.target,s=o-t;if(s>0){this.showBackToTopOpacity=1;let e=-a+s;e>i&&(e=i),this.showBackToTopBottom=e}else this.showBackToTopOpacity=0},scrollToTop(){this.scrollableEl.scrollTo(0,0)}}},c=l,p=o(1001),h=(0,p.Z)(c,s,n,!1,null,null,null),d=h.exports},48796:function(e,t,o){o.d(t,{Z:function(){return c}});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("label",{staticClass:"wrapper"},[o("input",{attrs:{type:"checkbox"},domProps:{checked:e.isChecked,value:e.value},on:{change:e.updateInput}}),o("span",{staticClass:"checkmark"})])},n=[],i=(o(57658),{name:"OperaCheckbox",model:{event:"change",prop:"modelValue"},props:{modelValue:{default:!1,type:[Array,Boolean]},value:{default:void 0,type:[Object,String]}},computed:{isChecked(){return this.modelValue instanceof Array?this.modelValue.includes(this.value):this.modelValue===this.value}},methods:{updateInput(e){const t=e.target.checked;if(this.modelValue instanceof Array){const e=[...this.modelValue];t?e.push(this.value):e.splice(e.indexOf(this.value),1),this.$emit("change",e)}else this.$emit("change",t)}}}),a=i,r=o(1001),l=(0,r.Z)(a,s,n,!1,null,"8d8c1508",null),c=l.exports},44497:function(e,t,o){o.d(t,{Z:function(){return v}});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.disabled?e._e():o("div",{staticClass:"bg-dark-N16 border border-black border-opacity-10 cursor-pointer flex items-center justify-between mb-2 px-6 py-3 rounded-lg t-token_item-click",on:{click:e.click}},[o("token-icon",{staticClass:"h-9 w-9",attrs:{address:e.address,chain:e.chain,"icon-uri":e.value.logoURI},on:{hideUnverifiedTokenPopover:e.hideUnverifiedTokenPopover,showUnverifiedTokenPopover:e.showUnverifiedTokenPopover}}),o("div",{staticClass:"flex-1 mx-4"},[o("div",{staticClass:"font-bold tracking-wider"},[e._v(e._s(e.name))]),o("div",{staticClass:"flex items-center text-dark-N77 text-xs"},[o("span",{staticClass:"mr-2"},[e._v(e._s(e.symbol))]),o("chain-badge",{attrs:{"background-color":"bg-input-bg",chain:e.chain}}),e.type&&e.type!==e.symbol?o("div",{staticClass:"bg-input-bg inline-block ml-1 px-2 py-0 rounded-full"},[e._v(" "+e._s(e.type)+" ")]):e._e()],1)]),e.selectable?o("opera-checkbox",{ref:"checkbox",staticClass:"pointer-events-none",attrs:{"model-value":e.modelValue,value:e.value},on:{change:e.onChange}}):e._e()],1),o("unverified-token-popover",{ref:"unverifiedTokenPopover",attrs:{"caret-horizontal-position":"left-[11px]","popover-position":"left-2","shorter-text":""}})],1)},n=[],i=o(83437),a=o(48796),r=o(56258),l=o(75236),c=o(56142),p=o(20144),h=p.Z.extend({name:"TokenItem",components:{ChainBadge:i.Z,OperaCheckbox:a.Z,TokenIcon:l.Z,UnverifiedTokenPopover:c.Z},model:{event:"change",prop:"modelValue"},props:{address:{default:"",type:String},chain:{default:void 0,type:Object},disabled:{default:!1,type:Boolean},modelValue:{default:void 0,type:[String,Object,Array]},name:{default:"",type:String},selectable:{default:!0,type:Boolean},symbol:{default:"",type:String},value:{default:void 0,type:[String,Object,Array]}},computed:{type(){const e=this.value.type??this.value.contract?.type;return e?"".toUpperCase():""},unverifiedTokenPopover(){return this.$refs.unverifiedTokenPopover}},methods:{click(){this.selectable?this.$refs.checkbox.$el.click():this.$emit("change",this.value)},getStatsEventName(){if("WatchListSelect"===this.$route.name){const e=this.$refs.checkbox.isChecked?"selected":"unselected";return`wt_watch_coin_${e}`}return"ReceiveToken"===this.$route.name?"wt_receive_select":"wt_coin_selected"},hideUnverifiedTokenPopover(e){this.unverifiedTokenPopover.hide(e)},onChange(e){const[t,o]=[this.$store.getters.getNetworkName(this.chain),this.symbol],s=this.getStatsEventName();r.Z.sendStatsEvent(r.Z.types.CLICK,s,{network:t,symbol:o}),this.$emit("change",e)},showUnverifiedTokenPopover(e){this.unverifiedTokenPopover.show(e)}}}),d=h,u=o(1001),m=(0,u.Z)(d,s,n,!1,null,null,null),v=m.exports},7565:function(e,t,o){o.d(t,{Z:function(){return T}});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"w-full"},[e.value?o("div",{staticClass:"bg-input-bg cursor-pointer flex rounded-full t-asset_selector-show_dialog",on:{click:e.showDialog}},[o("token-icon",{staticClass:"h-8 mx-4 my-5 w-10",attrs:{address:e.address,chain:e.chain}}),o("div",{staticClass:"flex items-center justify-between truncate w-full"},[o("div",{staticClass:"tracking-wider truncate"},[o("div",{staticClass:"font-bold text-lg truncate"},[e._v(e._s(e.name))]),o("div",{staticClass:"flex font-bold items-center text-grey-A text-sm truncate"},[o("span",{staticClass:"mr-2"},[e._v(e._s(e.symbol))]),o("chain-badge",{attrs:{chain:e.chain}})],1)]),o("i",{staticClass:"icon-chevron_down m-4 text-dark-N60 w-6"})])],1):e._e(),o("asset-selector-dialog",{ref:"dialog",attrs:{options:e.options,"still-loading-count":e.stillLoadingCount,value:e.value}})],1)},n=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"show",rawName:"v-show",value:e.showing,expression:"showing"}],staticClass:"bg-background bottom-0 fixed left-0 right-0 top-0 z-30"},[o("div",{staticClass:"flex flex-col h-full"},[o("top-bar",{attrs:{"emit-back":"","test-parent-name":"asset_selector_dialog",title:e.$t("general.selectAssets")},on:{back:e.close}}),o("div",{staticClass:"px-4"},[o("opera-input",{staticClass:"t-token_dialog-query",attrs:{placeholder:e.$t("general.search"),"prepend-icon":"icon-search text-brand-primary text-opacity-40",type:"search",value:e.search},on:{input:e.updateSearch}})],1),o("div",{staticClass:"h-full overflow-y-scroll pb-4 px-4",on:{scroll:e.onScroll}},[e.loading&&e.search?o("div",{staticClass:"flex flex-1 items-center justify-center w-full"},[o("i",{staticClass:"animate-spin icon-spinner text-xl"})]):[e._l(e.tokenList,(function(t,s){return o("div",{key:s},[o("token-item",{staticClass:"my-3",attrs:{address:"contract"in t?t.contract.contract:t.address,chain:t.chain,name:"contract"in t?t.contract.name:t.name,selectable:!1,symbol:"contract"in t?t.contract.symbol:t.symbol,value:t},on:{change:e.itemClicked}})],1)})),o("back-to-top")],e._l(e.stillLoadingCount,(function(e){return o("div",{key:"loading-"+e,staticClass:"bg-dark-N16 border border-black border-opacity-10 cursor-wait flex items-center justify-between mb-2 mt-3 px-6 py-3 rounded-lg t-token_loading_item",style:{opacity:1/e}},[o("div",{staticClass:"h-10"},[o("lottie-component",{staticClass:"h-10",attrs:{src:"loader_tx.json"}})],1)])}))],2)],1)])},a=[],r=o(12393),l=o(39944),c=o(17482),p=o(44497),h=o(75619),d=o(20144);const u=20;var m=d.Z.extend({name:"AssetSelectorDialog",components:{BackToTop:r.Z,LottieComponent:l.Z,OperaInput:c.Z,TokenItem:p.Z,TopBar:h.Z},props:{options:{default:void 0,type:Array},stillLoadingCount:{default:0,type:Number},value:{default:void 0,type:Object}},data(){return{callback:null,loading:!1,pageSize:u,search:"",showing:!1}},computed:{tokenList(){const{tokens:e}=this;return this.search?e.filter(this.applyTokenSearchFilter).slice(0,this.pageSize):e.slice(0,this.pageSize)},tokens(){return this.options}},methods:{applyTokenSearchFilter(e){const t="contract"in e?e.contract.name:e.name,o=this.$store.getters.chainNameFriendly(e.chain),s="contract"in e?e.contract.symbol:e.symbol;return t.toLowerCase().includes(this.search.toLowerCase())||s.toLowerCase().includes(this.search.toLowerCase())||o.toLowerCase().includes(this.search.toLowerCase())},close(){!this.value||this.$route.meta?.preselectToken?this.$router.go(-1):this.showing=!1},async itemClicked(e){this.loading=!0,this.callback(e),this.showing=!1,this.loading=!1},onScroll(e){const{target:t}=e,o=t.scrollTop+t.clientHeight>=t.scrollHeight-t.clientHeight;o&&(this.pageSize+u<this.tokens.length?this.pageSize+=u:this.pageSize=this.tokens.length-1)},show(e){this.callback=e,this.showing=!0},updateSearch(e){this.search=e}}}),v=m,f=o(1001),k=(0,f.Z)(v,i,a,!1,null,null,null),g=k.exports,b=o(83437),y=o(75236),w=d.Z.extend({name:"AssetSelector",components:{AssetSelectorDialog:g,ChainBadge:b.Z,TokenIcon:y.Z},props:{options:{default:void 0,type:Array},stillLoadingCount:{default:0,type:Number},value:{default:void 0,type:Object}},data(){return{dialog:!1}},computed:{address(){return"contract"in this.token?this.token.contract.contract:this.token.address},chain(){return this.token.chain},name(){return"contract"in this.token?this.token.contract.name:this.token.name},preselectToken(){return this.$route.meta?.preselectToken},symbol(){return"contract"in this.token?this.token.contract.symbol:this.token.symbol},token(){return this.value??this.$store.getters.matchingNativeToken("",this.chain)}},mounted(){this.preselectToken&&this.showDialog()},activated(){this.preselectToken&&"SendToken"===this.$route.name&&this.showDialog()},methods:{showDialog(){this.$refs.dialog.show((e=>{const{meta:t}=this.$route;t&&t.preselectToken&&(t.preselectToken=!1),this.$emit("input",e)}))}}}),x=w,C=(0,f.Z)(x,s,n,!1,null,null,null),T=C.exports},56142:function(e,t,o){o.d(t,{Z:function(){return h}});var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("simple-popover",{ref:"popover",staticClass:"fixed font-medium h-min t-unverified_token_popover text-sm w-72 z-10",class:[e.popoverPosition],attrs:{"background-class":"bg-dark-N04","caret-horizontal-position":e.caretHorizontalPosition,"caret-vertical-inset":"bottom"}},[e.shorterText?o("p",[e._v(e._s(e.$t("components.popovers.unverifiedTokenShorter")))]):o("i18n",{staticClass:"whitespace-pre-line",attrs:{path:"components.popovers.unverifiedToken",tag:"p"},scopedSlots:e._u([{key:"settingsPage",fn:function(){return[o("span",{staticClass:"cursor-pointer text-brand-primary",on:{click:function(t){return e.$emit("showAssetSettingsDialog")}}},[e._v(e._s(e.$t("components.popovers.unverifiedTokenSettingsPage")))])]},proxy:!0}])})],1)},n=[],i=o(21157),a=o(20144),r=a.Z.extend({name:"UnverifiedTokenPopover",components:{SimplePopover:i.Z},props:{caretHorizontalPosition:{default:"left-7",type:String},popoverPosition:{default:"left-6",type:String},shorterText:{default:!1,type:Boolean}},computed:{popover(){return this.$refs.popover}},methods:{hide(e){this.popover.hide(e)},show(e){this.popover.show(),this.$nextTick((()=>{const t=this.popover.$el,o=11,s=t.offsetHeight+e.offsetY+o;t.style.top=e.pageY-s+"px"}))}}}),l=r,c=o(1001),p=(0,c.Z)(l,s,n,!1,null,"47f33c28",null),h=p.exports},80779:function(e,t,o){e.exports=o.p+"img/chevron_up.dbe760c6.svg"}}]);