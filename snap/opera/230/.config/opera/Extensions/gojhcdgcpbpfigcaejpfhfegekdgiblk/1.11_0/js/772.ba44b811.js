"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[772],{39698:function(t,e,s){s.d(e,{Z:function(){return p}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return!t.token||t.isHistorySupported||t.accountDetailsUrl?t.token&&!t.isHistorySupported?s("div",{staticClass:"flex flex-col items-center"},[s("lottie-component",{staticClass:"h-20 mb-4 mt-8 w-20",attrs:{src:"empty_activity_placeholder.json"}}),s("div",{staticClass:"text-center text-dark-N77"},[s("i18n",{attrs:{path:"views.activityView.transactionHistoryDescription"},scopedSlots:t._u([{key:"transactionHistoryLink",fn:function(){return[s("a",{staticClass:"text-spectrum-blue underline",attrs:{href:t.accountDetailsUrl,rel:"noreferrer noopener",target:"_blank"}},[t._v(" "+t._s(t.$t("views.activityView.transactionHistoryLinkTitle"))+" ")])]},proxy:!0}])})],1)],1):s("div",[t.activities.length?s("smart-list-container",{attrs:{"base-list-element-height-px":t.activityItemHeightPx,"number-of-elements":t.activities.length,"reserved-height-px":t.reservedHeightPx.get(t.routeName)||0}},t._l(t.activities,(function(t,e){return s("activity-item",{key:e,staticClass:"first:mt-0 last:mb-0 mr-1.5",attrs:{activity:t}})})),1):s("div",{staticClass:"flex flex-col items-center"},[s("lottie-component",{staticClass:"h-20 mb-4 mt-8 w-20",attrs:{src:"empty_activity_placeholder.json"}}),s("div",{staticClass:"text-center text-dark-N77"},[t._v(t._s(t.$t("general.noActivities")))])],1)],1):s("div",{staticClass:"flex flex-col items-center"},[s("lottie-component",{staticClass:"h-20 mb-4 mt-8 w-20",attrs:{src:"empty_activity_placeholder.json"}}),s("div",{staticClass:"text-center text-dark-N77"},[t._v(t._s(t.$t("general.noActivities")))])],1)},n=[],r=s(35210),a=s(18027),o=s(39944),c=s(1825),l=s(20144),h=l.Z.extend({name:"ActivityBox",components:{ActivityItem:a.Z,LottieComponent:o.Z,SmartListContainer:c.Z},props:{activities:{default:()=>[],type:Array},token:{type:Object}},data(){return{activityItemHeightPx:84,reservedHeightPx:new Map([["Assets",470],["TokenOverview",510]])}},computed:{accountAddressByCoinType(){if(!this.token)return"";const{coinType:t}=this.token.chain;return this.accountsByCoinType[t]},accountDetailsUrl(){return this.token?this.$store.getters.accountDetailsUrl(this.accountAddressByCoinType,this.token.chain):""},accountsByCoinType(){return this.$store.getters.accountsByCoinType},isHistorySupported(){return!!this.$store.getters.networksSupportingHistory.find((({chain:t})=>(0,r.F2)(t,this.token.chain)))},routeName(){return this.$route.name}}}),u=h,d=s(1001),m=(0,d.Z)(u,i,n,!1,null,null,null),p=m.exports},1825:function(t,e,s){s.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"overflow-y-scroll t-smart_list_container",style:{height:t.containerHeightPx+"px"}},[t._t("default")],2)},n=[],r=s(20144),a=r.Z.extend({name:"SmartListContainer",props:{baseListElementHeightPx:{required:!0,type:Number},numberOfElements:{required:!0,type:Number},reservedHeightPx:{required:!0,type:Number}},data(){return{containerHeightPx:0}},watch:{numberOfElements(){this.containerHeightPx=this.getContainerHeightPx()}},beforeDestroy(){this.unregisterWindowResizeListener()},created(){this.registerWindowResizeListener(),this.containerHeightPx=this.getContainerHeightPx()},methods:{getContainerHeightPx(){const{innerHeight:t}=window,e=Math.max(t-this.reservedHeightPx,this.baseListElementHeightPx),s=this.baseListElementHeightPx*this.numberOfElements,i=Math.min(s,e);return i},registerWindowResizeListener(){window.addEventListener("resize",this.resizeContainer)},resizeContainer(){setTimeout((()=>{this.containerHeightPx=this.getContainerHeightPx()}))},unregisterWindowResizeListener(){window.removeEventListener("resize",this.resizeContainer)}}}),o=a,c=s(1001),l=(0,c.Z)(o,i,n,!1,null,null,null),h=l.exports},41888:function(t,e,s){s.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}]},"div",Object.assign({},t.$attrs.class),!1),[t._t("default")],2)},n=[],r={name:"SwitchingTab",props:{title:{default:"",type:String}},data(){return{active:!1}}},a=r,o=s(1001),c=(0,o.Z)(a,i,n,!1,null,null,null),l=c.exports},33157:function(t,e,s){s.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({},"div",Object.assign({},t.$attrs.class),!1),[t.tabs.length>1?s("div",{staticClass:"flex flex-row justify-between mb-6 mt-2"},[s("div",t._l(t.tabs,(function(e,i){var n;return s("button",{key:e.title,staticClass:"px-4 py-2 text-xs",class:(n={"bg-dark-N16 text-white font-semibold tracking-wider rounded-full":i===t.selected,"text-dark-N77 font-semibold tracking-wider rounded-full":i!==t.selected},n["t-tabs-tab_"+e.title+"_select"]=!0,n),on:{click:function(e){return t.selectTab(i)}}},[t._v(" "+t._s(e.title)+" ")])})),0),s("div",[t.settingsLink&&t.isAssetList?s("button",{staticClass:"cursor-pointer px-4 py-2 t-asset-settings text-brand-primary text-sm",attrs:{type:"button"},on:{click:function(e){return t.$emit("showAssetSettingsDialog")}}},[t._v(" "+t._s(t.settingsLink)+" ")]):t._e()])]):t._e(),t._t("default")],2)},n=[],r={name:"SwitchingTabs",props:{settingsLink:{default:"",type:String}},data(){return{isAssetList:!0,selected:0,tabs:[]}},created(){this.tabs=this.$children},mounted(){this.selectTab(0)},methods:{selectTab(t){this.selected=t,this.tabs.forEach(((e,s)=>{e.active=s===t,this.isAssetList=0===t})),this.$emit("selected",t)}}},a=r,o=s(1001),c=(0,o.Z)(a,i,n,!1,null,null,null),l=c.exports},7389:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("top-bar",{attrs:{dark:"","test-parent-name":"token_overview",title:t.name},scopedSlots:t._u([t.watchlistToken?{key:"action",fn:function(){return[s("div",{staticClass:"cursor-pointer flex-grow-0 ml-10 mr-1 text-brand-primary w-6",class:t.watchlistIcon,on:{click:t.toggleTokenOnWatchList}})]},proxy:!0}:null],null,!0)}),s("div",{staticClass:"flex flex-col items-center px-14 text-center"},[s("token-icon",{staticClass:"h-16 mb-4 mt-3.5 rounded-full w-16",attrs:{address:t.address,chain:t.chain,"non-verified-token-icon-classes":"-left-4 h-8 top-4 w-8",type:t.type}}),s("div",{staticClass:"font-semibold text-2xl text-white tracking-wide truncate w-full"},[s("div",{staticClass:"flex justify-center"},[s("div",{staticClass:"max-w-60 pr-2 truncate",attrs:{title:t.balance}},[t._v(" "+t._s(t.balance)+" ")]),s("div",{staticClass:"max-w-[7ch] min-w-6 text-dark-N77 truncate",attrs:{title:t.symbol}},[t._v(" "+t._s(t.symbol)+" ")])])]),t.fiatBalance?s("div",{staticClass:"font-light text-base text-dark-N77 truncate w-full"},[t._v(" "+t._s(t.fiatBalance)+" ")]):t._e(),s("div",{staticClass:"w-full"},[t.token?s("asset-action-row",{attrs:{address:t.address,token:t.token}}):t._e()],1)],1)],1),s("div",{staticClass:"pb-6 px-14"},[s("switching-tabs",{on:{selected:t.tabSelected}},[t.tokenPriceInfo?s("switching-tab",{attrs:{title:t.$t("general.overview")}},[s("price-overview",{attrs:{address:t.address,"price-info":t.tokenPriceInfo,symbol:t.symbol.toLowerCase()}})],1):t._e(),s("switching-tab",{attrs:{title:t.$t("general.activity")}},[t.token?s("activity-box",{attrs:{activities:t.transactions,token:t.token}}):t._e()],1)],1)],1)])},n=[],r=(s(57658),s(86936)),a=s(39698),o=s(86558),c=s(70794),l=s(15422),h=s(56258),u=s(41888),d=s(33157),m=s(75236),p=s(75619),k=s(4634),v=s(98180),f={name:"TokenOverview",components:{ActivityBox:a.Z,AssetActionRow:o.Z,PriceOverview:l.Z,SwitchingTab:u.Z,SwitchingTabs:d.Z,TokenIcon:m.Z,TopBar:p.Z},data(){return{balance:0,contract:null,fiatBalance:0,loading:!1,name:"",token:null}},computed:{address(){return this.$route.query.address.toLowerCase()},chain(){if(this.$route.query.chain)return JSON.parse(this.$route.query.chain)},symbol(){return this.$route.query.symbol},tokenPriceInfo(){if(this.token)return this.$store.getters.getPriceInfoForToken(this.token)},transactions(){return this.$store.getters.transactionsForToken(this.address,this.type)},type(){if(this.token)return this.token.type??this.token.contract?.type},watchlistIcon(){const t=this.$store.getters.isTokenOnWatchList(this.watchlistToken);return(0,r.hp)(t)},watchlistToken(){const t={address:this.address,chain:this.chain,name:this.name,symbol:this.symbol};return this.$store.getters.watchlistToken(t)}},watch:{token(t){t&&this.assignTokenData()}},created(){this.getToken()},methods:{assignTokenData(){if(this.name=this.token.name??this.token.contract?.name,this.contract=this.token.address??this.token.contract?.contract,this.token&&this.token.balance&&(this.tokenPriceInfo&&(this.fiatBalance=k.Z.localizeCurrency(v.Z.tokenDecimal(this.token).multipliedBy(new c.Z(this.tokenPriceInfo.price)))),this.token.balance)){const t=this.token.decimals??this.token.contract.decimals;this.balance=v.Z.withDecimals(this.token.balance,t)}},getToken(){if(!this.address||!this.chain)return;const{allSupportedTokens:t}=this.$store.getters;this.token=this.$store.getters.getToken(this.address,this.chain,t)},goToBuy(){h.Z.sendStatsEvent(h.Z.types.CLICK,"wt_coin_buy_bottom"),this.$router.push({name:"Buy",params:{token:this.token}})},goToSell(){this.$router.push({name:"Sell",params:{token:this.token}})},tabSelected(t){const[e,s]=[this.$store.getters.getNetworkName(this.chain),this.symbol];switch(t){case 0:h.Z.sendStatsEvent(h.Z.types.CLICK,"wt_coin_overTab",{coin:s,network:e});break;case 1:h.Z.sendStatsEvent(h.Z.types.CLICK,"wt_coin_actTab",{coin:s,network:e});break}},toggleTokenOnWatchList(){this.$store.dispatch("toggleTokenOnWatchList",this.watchlistToken)}}},g=f,y=s(1001),b=(0,y.Z)(g,i,n,!1,null,null,null),w=b.exports}}]);