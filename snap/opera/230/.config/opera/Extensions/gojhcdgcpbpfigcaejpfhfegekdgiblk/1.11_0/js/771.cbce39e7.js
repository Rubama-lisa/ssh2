"use strict";(self["webpackChunkdesktop_wallet"]=self["webpackChunkdesktop_wallet"]||[]).push([[771],{12393:function(t,e,s){s.d(e,{Z:function(){return u}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"backdrop-blur-2xl bg-dark-N16 cursor-pointer fixed h-14 right-6 rounded-full transition-opacity w-14",style:{opacity:t.showBackToTopOpacity,bottom:t.showBackToTopBottom+"px"},on:{click:function(e){return e.stopPropagation(),t.scrollToTop.apply(null,arguments)}}},[r("img",{staticClass:"mx-auto",style:{marginTop:"23px"},attrs:{src:s(80779)}})])},n=[];const a=22,i=56,o=window.innerHeight;var l={name:"BackToTop",data(){return{showBackToTopBottom:-i,showBackToTopOpacity:0}},computed:{scrollableEl(){return this.$el.parentElement}},beforeUnmount(){this.scrollableEl.removeEventListener("scroll",this.onScroll)},mounted(){this.scrollableEl.addEventListener("scroll",this.onScroll)},methods:{onScroll(t){const e=o,{scrollTop:s}=t.target,r=s-e;if(r>0){this.showBackToTopOpacity=1;let t=-i+r;t>a&&(t=a),this.showBackToTopBottom=t}else this.showBackToTopOpacity=0},scrollToTop(){this.scrollableEl.scrollTo(0,0)}}},c=l,d=s(1001),h=(0,d.Z)(c,r,n,!1,null,null,null),u=h.exports},72598:function(t,e,s){s.d(e,{Z:function(){return g}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"deck"},[s("div",{staticClass:"cursor-pointer flex flex-nowrap flex-row-reverse flex-wrap justify-end overflow-visible",style:{paddingLeft:t.cardFoldPx+"px"}},[t.deckMore?s("div",{staticClass:"align-middle bg-opacity-10 font-semibold inline-block overflow-hidden pl-1 relative rounded-xl text-center",class:t.cardMoreClasses,style:{fontSize:t.deckMoreFontSizePx+"px",height:t.cardHeightPx+"px",lineHeight:t.cardHeightPx+"px",marginLeft:"-"+t.cardMoreFoldPx+"px",width:t.cardMoreWidthPx+"px"},on:{click:function(e){return t.openMore(e)}}},[t.stillLoadingCount>0?s("lottie-component",{staticClass:"absolute",style:{left:0,top:0,height:t.cardHeightPx+"px"},attrs:{src:"loader_nft_more.json"}}):t._e(),s("span",{class:[t.cardMoreFoldPx<=33.5?"ml-5":"ml-3.5"]},[t._v(t._s(t.deckMoreFriendly))])],1):t._e(),s("div",{style:{width:t.unusedSpacePx+"px"}}),t._l(t.deckCards,(function(e,r){return s("div",{key:r,staticClass:"cursor-pointer justify-self-end",class:{"h-32":t.isHovering===r},style:{width:t.cardWidthPx+"px",height:t.cardHeightPx+"px",marginLeft:"-"+t.cardFoldPx+"px",marginRight:(0!==r&&t.cardGapPx||0)+"px",zIndex:t.isHovering===r?1:0},attrs:{title:e.name},on:{click:function(s){return t.openCard(s,e)},mouseout:function(e){t.isHovering=-1},mouseover:function(e){t.isHovering=r}}},[s("lazy-image",{staticClass:"bg-center bg-input-bg inline-block object-cover overflow-hidden rounded-xl",class:"Overview"===t.$route.name?"bg-opacity-50":"bg-opacity-100",style:{transition:"transform 0.1s",transform:t.isHovering===r?"scale(1.1) translateY(-16px)":"",filter:"drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.25))",boxShadow:"1px 4px 4px 0px rgba(0, 0, 0, 0.25)",width:t.cardWidthPx+"px",height:t.cardHeightPx+"px"},attrs:{placeholder:t.placeholder,src:t.getCardImage(e)}})],1)}))],2)])},n=[],a=s(81130),i=s(39944),o=s(4634);const l=8,c=80;var d={name:"CardsDeck",components:{LazyImage:a.Z,LottieComponent:i.Z},props:{cardHeightPx:{default:c,type:Number},cardMoreClasses:{default:()=>["bg-input-bg","text-dark-N12","font-medium"],type:Array},cardMoreFoldPx:{default:33.5,type:Number},cards:{default:()=>[],type:Array},layouts:{default:()=>{const[t,e,s]=[-2,-21.5,-33.5],r=[c,s],n=[c,e],a=[c,t],i=[c,l];return[r,n,a,i]},type:Array},propagateClick:{default:!1,type:Boolean},stillLoadingCount:{default:0,type:Number}},data(){return{DECK_MORE_SAFE_NUMBER:10049,cardFoldPx:0,cardGapPx:l,cardMoreWidthPx:c,cardWidthPx:c,deckLimit:null,deckWidthPx:0,isHovering:-1,placeholder:s(29738),resizeObserver:void 0,unusedSpacePx:0}},computed:{deckCards(){const{cards:t}=this,e=t.slice(0,this.getBestDeckLimit());return e},deckCardsLength(){return this.deckCards.length},deckMore(){return this.cards.length-this.deckCardsLength},deckMoreFontSizePx(){return this.deckMore<=this.DECK_MORE_SAFE_NUMBER?16:12},deckMoreFriendly(){return`+${o.Z.longNumberToFriendlyFormat(this.deckMore,1)}`}},beforeDestroy(){this.resizeObserver.disconnect()},mounted(){const t=this.$refs.deck;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(t),this.onResize()},methods:{getBestDeckLimit(){const{layouts:t}=this,e=t.map((t=>this.getDeckLimit.apply(null,t)));e.sort(((t,e)=>t.moreCount-e.moreCount||t.unusedSpacePx-e.unusedSpacePx));const[s]=e;return this.cardWidthPx=s.cardWidthPx,s.cardShiftPx<0?(this.cardFoldPx=-s.cardShiftPx,this.cardGapPx=0):(this.cardFoldPx=0,this.cardGapPx=s.cardShiftPx),this.unusedSpacePx=s.unusedSpacePx,s.maxCardsCount},getCardImage(t){return t.image||t.collectibles?.[0].image},getDeckLimit(t,e=0,s=0){const r={},n=this.cards.length,{cardMoreFoldPx:a,cardMoreWidthPx:i,deckWidthPx:o}=this,l=o+e-s,c=t+e,d=Math.floor(l/c),h=Math.min(d,n),u=h*c-e;if(d<n&&!s)return this.getDeckLimit(t,e,i-a);const p=n-h,g=o-u-s;return Object.assign(r,{_availableSpacePx:l,cardShiftPx:e,cardWidthPx:t,cardsUsed:h,cardsWidthPx:u,deckWidthPx:o,maxCardsCount:d,moreCount:p,moreWidthPx:s,unusedSpacePx:g}),this.deckLimit=r,r},onResize(){const t=this.$refs?.deck?.clientWidth;this.deckWidthPx=t},openCard(t,e){this.propagateClick||t.stopPropagation(),this.isHovering=-1,this.$emit("openCard",e)},openMore(t){this.propagateClick||t.stopPropagation(),this.$emit("openMore")}}},h=d,u=s(1001),p=(0,u.Z)(h,r,n,!1,null,null,null),g=p.exports},81130:function(t,e,s){s.d(e,{Z:function(){return d}});var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{ref:"lazyImage",staticClass:"t-lazy_image"},[t.loading?s("spinning-loader",{staticClass:"h-full"}):t._e()],1)},n=[],a=s(25e3),i={name:"LazyImage",components:{SpinningLoader:a.Z},props:{placeholder:{default:"",type:String},src:{default:"",type:String}},data(){return{loading:!1}},mounted(){this.loadImage()},methods:{loadImage(){this.loading=!0;const t=new Image;t.classList.add("w-full"),t.classList.add("h-full"),t.style.borderRadius="inherit",t.style.objectFit="inherit",t.alt="",t.complete&&this.$nextTick((()=>{t.src=this.src,this.loading=!1})),t.onerror=()=>{this.$nextTick((()=>{t.src=this.placeholder,this.loading=!1}))},this.$refs.lazyImage.appendChild(t)}}},o=i,l=s(1001),c=(0,l.Z)(o,r,n,!1,null,null,null),d=c.exports},76797:function(t,e,s){s.r(e),s.d(e,{default:function(){return $t}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{key:t.timesViewUpdated,ref:"container",staticClass:"bg-65 bg-cover bg-no-repeat bg-overview-background h-full overflow-x-hidden"},[r("div",{staticClass:"px-12 py-4",class:[{"bg-overview-background-gradient":t.newsGradientBg}]},[r("div",{staticClass:"flex flex-row"},[r("h1",{staticClass:"flex-grow font-bold ml-3.5 my-7 t-overview_toolbar-wallet_name text-3xl text-left tracking-wider"},[t._v(" "+t._s(t.productName)+" ")]),r("a",{staticClass:"cursor-pointer mr-6 mt-8 t-overview_toolbar-settings",on:{click:t.goToSettings}},[r("img",{staticClass:"h-6 t-overview_toolbar-settings w-6",attrs:{src:s(23816)}})])]),t.token?r("asset-action-row",{attrs:{address:t.address,token:t.token}}):t._e(),r("center",{staticClass:"mb-6 relative"},[r("div",{staticClass:"m-12"}),r("assets-burger"),r("div",{staticClass:"m-8"}),r("nfts-burger")],1),r("overview-transactions"),t.isOnMainnet?r("watchlist-widget"):t._e()],1),t.showNews?r("div",{staticClass:"px-0"},[r("crypto-news",{on:{heightChange:t.setCryptoCornerHeight}})],1):t._e(),r("back-to-top")],1)},n=[],a=(s(84633),s(57658),s(86558)),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("patty-burger",{attrs:{"show-arrow":"","test-parent-name":"assets_burger",title:t.$t("general.assets")},on:{click:t.openAssets}},[r("div",[t.hasNoAssets?r("div",{staticClass:"font-bold mb-1 t-assets_burger-no_assets text-accent-dark text-left"},[r("span",{staticClass:"text-left"},[t._v(t._s(t.$t("general.youDontOwnAnyAssets")))])]):t._e(),r("div",{staticClass:"font-semibold t-assets-balance text-left text-white tracking-widest truncate",class:{"text-5xl":t.balanceFriendlyLength<=6,"text-4xl":t.balanceFriendlyLength>6&&t.balanceFriendlyLength<=12,"text-3xl":t.balanceFriendlyLength>12&&t.balanceFriendlyLength<=18,"text-2xl":t.balanceFriendlyLength>24},style:{textShadow:"2px 2px 2px rgba(0, 0, 0, 0.2)"}},[t._v(" "+t._s(t.balanceFriendly)+" ")])]),t.ownedTokens.length?r("tokens-kan",{attrs:{tokens:t.ownedTokens},on:{openMore:t.openAssets,openToken:t.openToken}}):t._e(),t.ownedTokens.length?t._e():r("div",{staticClass:"flex"},[r("div",{staticClass:"flex-1 grow"}),r("img",{staticClass:"-mt-6 h-18 mb-0.5",attrs:{src:s(39009)}})])],1)},o=[],l=s(70794),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-accent px-8.5 py-2.5 relative rounded-3xl",class:{"cursor-pointer":t.showArrow},on:{click:function(e){t.showArrow&&t.$emit("click")}}},[r("div",{staticClass:"font-bold my-3 text-2xl text-dark-N16 text-left",class:[{"cursor-pointer":t.showArrow},"t-burger-"+t.testParentName],on:{click:function(e){e.stopPropagation(),t.showArrow&&t.$emit("click")}}},[t._v(" "+t._s(t.title)+" ")]),t.showArrow?r("div",{staticClass:"absolute icon-arrow_right right-8 text-black top-6",class:["t-burger_arrow-"+t.testParentName],on:{click:function(e){return e.stopPropagation(),t.$emit("click")}}}):t._e(),t.showModal?r("div",{staticClass:"absolute bg right-16 text-black top-6"},[r("div",{staticClass:"flex flex-row gap-5"},[r("img",{staticClass:"fill-dark-N16 h-6 w-6",attrs:{src:s(47456)},on:{mouseenter:function(e){t.errorModal=!0},mouseleave:function(e){t.errorModal=!1}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.errorModal,expression:"errorModal"}],staticClass:"-right-9 -top-36 absolute bg-dark-N16 font-semibold leading-5 p-7 rounded-xl text-dark-N77 text-xs w-72 z-30"},[r("div",{staticClass:"-bottom-24 -right-24 border-t-8 border-t-dark-N16 border-x-8 border-x-transparent h-0 relative w-0 z-50"}),t._v(" "+t._s(t.$t("errors.loadNftsModal"))+" ")])])]):t._e(),t._t("default")],2)},d=[],h={name:"PattyBurger",props:{showArrow:{default:!1,type:Boolean},showModal:{default:!1,type:Boolean},testParentName:{default:void 0,type:String},title:{default:void 0,type:String}},data(){return{errorModal:!1}}},u=h,p=s(1001),g=(0,p.Z)(u,c,d,!1,null,null,null),m=g.exports,f=s(56258),v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"tokensDeck",staticClass:"cursor-pointer flex flex-row mb-5 mt-4.5 relative",class:{"justify-between":!!t.ownedTokensDeckMore},staticStyle:{gap:"7px"}},[t.ownedTokensDeckMore?t._e():s("div",{staticClass:"flex-1 grow"}),t._l(t.ownedTokensDeckCoins,(function(e,r){return s("div",{key:r,staticClass:"h-7.5 w-7.5",attrs:{title:e._title},on:{click:function(s){return s.stopPropagation(),t.openToken(e)},mouseout:function(e){t.isHovering===r&&t.setIsHovering(t.VOID_INDEX)},mouseover:function(e){t.isHovering===t.VOID_INDEX&&t.setIsHovering(r)}}},[s("token-icon",{staticClass:"h-7.5 w-7.5",style:{transition:"all 0.2s",transform:t.isHovering===r?"scale(1.18)":""},attrs:{address:e.contract.contract.toLowerCase(),chain:e.chain,type:e.contract.type}})],1)})),t.ownedTokensDeckMore?s("div",{staticClass:"flex-1 grow hidden"}):t._e(),t.ownedTokensDeckMore?s("div",{ref:"moreButton",staticClass:"bg-input-bg bg-opacity-10 flex font-semibold h-7.5 items-center justify-center rounded-full text-center text-dark-N12 text-sm",style:{width:t.ownedTokensDeckMoreWidth+"px"},on:{click:function(e){return e.stopPropagation(),t.openMore.apply(null,arguments)}}},[s("div",{staticClass:"min-w-7"},[t._v(" "+t._s(t.ownedTokensDeckMoreFriendly)+" ")])]):t._e()],2)},w=[],k=s(75236),x=s(4634),b={name:"TokensKan",components:{TokenIcon:k.Z},props:{tokens:{default:()=>[],type:Array}},data(){const t=-1;return{VOID_INDEX:t,isHovering:t,tokensDeckMore:0,tokensDeckWidth:0}},computed:{ownedTokensDeckCoins(){const t=this.tokens.slice(0,this.getTokensDeckLimit());return t},ownedTokensDeckCoinsLength(){return this.ownedTokensDeckCoins.length},ownedTokensDeckMore(){return this.tokens.length-this.ownedTokensDeckCoinsLength},ownedTokensDeckMoreFriendly(){return`+${x.Z.longNumberToFriendlyFormat(this.ownedTokensDeckMore,1)}`},ownedTokensDeckMoreWidth(){const[t,e,s]=[44,49,58];return this.ownedTokensDeckMore<=9?t:this.ownedTokensDeckMore<=99?e:s}},beforeDestroy(){this.resizeObserver.disconnect()},mounted(){const t=this.$refs.tokensDeck;this.resizeObserver=new ResizeObserver(this.onResize.bind(this)),this.resizeObserver.observe(t),this.onResize()},methods:{getTokensDeckLimit(){const t=7,e=30,s=this.tokensDeckMore&&this.$refs?.moreButton?.clientWidth||0;let r=this.tokensDeckWidth+t,n=Math.floor(r/(e+t));n<this.tokens.length?(r=this.tokensDeckWidth-s,n=Math.floor(r/(e+t)),this.tokensDeckMore=this.tokens.length-n):this.tokensDeckMore=0;const a=7;return Math.min(n,a)},onResize(){const t=this.$refs?.tokensDeck?.clientWidth;this.tokensDeckWidth=t},openMore(){this.$emit("openMore")},openToken(t){this.setIsHovering(this.VOID_INDEX),this.$emit("openToken",t)},setIsHovering(t){this.isHovering=t}}},y=b,C=(0,p.Z)(y,v,w,!1,null,null,null),_=C.exports,T=s(98180),$={name:"AssetsBurger",components:{PattyBurger:m,TokensKan:_},computed:{balance(){return this.$store.getters.accountBalance},balanceFriendly(){return this.$store.getters.accountBalanceFriendly},balanceFriendlyLength(){return String(this.balanceFriendly).length},hasNoAssets(){return this.balance.isZero()&&!this.$store.getters.allFungibleTokens.length},ownedTokens(){const t=this.$store.getters.ownedTokens.filter((t=>(0,l.Z)(t.balance??0).isGreaterThan(0))).map((t=>{const e=Object.assign({},t,{_title:`${x.Z.formatNumber(T.Z.tokenDecimal(t))} ${t.contract.symbol}`});return e}));return this.$store.getters.tokenListAdjustedToSettings(t)},tokensLoading(){return this.$store.getters.isLoading("tokens")}},methods:{openAssets(){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_asset_btn"),this.$router.push("assets")},openToken(t){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_asset_btn"),this.$router.push({name:"TokenOverview",query:{address:t.contract.contract,chain:JSON.stringify(t.chain),symbol:t.contract.symbol}})}}},P=$,N=(0,p.Z)(P,i,o,!1,null,null,null),L=N.exports,D=s(12393),M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-background-news",class:[{"pt-6":!!t.height}]},[s("iframe",{staticClass:"pl-9 w-full",style:{height:t.height+"px"},attrs:{id:"CryptoCorner",scrolling:"no",src:t.url}})])},S=[],E=s(60329),F={name:"CryptoNews",data(){return{height:0}},computed:{url(){return(0,E.r8)()?"https://m.crypto-corner.op-test.net/?origin=iframe":"https://m.crypto-corner.opera.com/?origin=iframe"}},watch:{height(t){this.$emit("heightChange",t)}},created(){window.addEventListener("message",this.updateHeight.bind(this))},methods:{updateHeight(t){if(t.origin===new URL(this.url).origin&&"iframeheght"===t.data.code){const e=parseInt(t.data.text,10);this.height=e}}}},Z=F,A=(0,p.Z)(Z,M,S,!1,null,null,null),O=A.exports,W=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("patty-burger",{attrs:{"show-arrow":"","show-modal":t.someNftsUnavailable,"test-parent-name":"nfts_burger",title:t.$t("general.collectibles")},on:{click:t.openNfts}},[t.noNftsAvailable?r("div",{staticClass:"font-bold mb-9 text-dark-N12 text-left"},[r("div",{staticClass:"mb-2 mt-9 opacity-60"},[t._v(" "+t._s(t.$t("errors.couldntLoadNfts"))+" ")]),r("div",{staticClass:"flex items-center"},[r("img",{staticClass:"h-4 mr-2 w-4",attrs:{src:s(4286)},on:{click:function(e){return e.stopPropagation(),t.reloadNfts.apply(null,arguments)}}}),r("p",[t._v(" "+t._s(t.$t("general.tryAgain"))+" ")])])]):t._e(),t.cards&&t.cards.length?r("cards-deck",{staticClass:"my-5",attrs:{cards:t.cards,"still-loading-count":t.nftsLoading?1:0},on:{openCard:t.openNft,openMore:t.openNfts}}):t.nftError||t.nftsLoading?t._e():r("div",{staticClass:"algin-right mb-6 mt-4"},[r("div",{staticClass:"font-bold text-accent-dark text-left"},[r("div",{staticClass:"t-nfts_burger-no_nfts text-left"},[t._v(" "+t._s(t.$t("general.youDontOwnAnyCollectibles"))+" ")])]),r("div",{staticClass:"flex h-14"},[r("div",{staticClass:"flex-1 grow"}),r("img",{staticClass:"-my-0.5 h-20",attrs:{src:s(84814)}})])]),t.nftsLoading?r("div",{staticClass:"flex h-24 justify-center"},[r("lottie-component",{staticClass:"-mb-28 -mt-10 h-44",attrs:{src:"loader_nft.json"}})],1):t._e()],1)},H=[],B=s(72598),I=s(39944),z={name:"NftsBurger",components:{CardsDeck:B.Z,LottieComponent:I.Z,PattyBurger:m},computed:{cards(){const{allCollectibles:t}=this.$store.getters,e=t.sort(((t,e)=>t.name.localeCompare(e.name)));return e},nftError(){return Object.values(this.$store.getters.nftError).some((t=>t))},nftsLoading(){return this.$store.getters.isLoading("nfts")},noNftsAvailable(){return!this.nftsLoading&&this.nftError&&0===this.cards.length},someNftsUnavailable(){return this.nftError&&this.cards}},methods:{openNft(t){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_nft_btn"),t.collectibles?this.$router.push({name:"CollectionView",params:{collection:t}}):this.$router.push({name:"CollectibleView",params:{collectible:t,collection:t.collection}})},openNfts(){f.Z.sendStatsEvent(f.Z.types.CLICK,"wt_nft_btn"),this.$router.push({name:"CollectionsView"})},async reloadNfts(){return await this.$store.dispatch("getAllNfts")}}},R=z,j=(0,p.Z)(R,W,H,!1,null,null,null),G=j.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{key:t.timesTransactionsUpdated,style:{transition:t.transactionsLoading?"":"height 0.2s ease-in",height:t.calculateHeight+"px",overflow:"hidden"}},[s("div",{staticClass:"relative w-full"},[s("TransitionGroup",{attrs:{name:t.transactionsLoading?"":"fade",tag:"div"}},t._l(t.itemsList,(function(e,r){return s("div",{key:t.getKey(e,r),staticClass:"overflow-hidden w-full"},["loader"===e.type?s("div",[s("div",{staticClass:"bg-dark-N16 my-1.5 p-4 rounded-lg"},[s("div",{staticClass:"h-6"},[s("lottie-component",{staticClass:"h-6",attrs:{src:"loader_tx.json"}})],1)])]):"more"===e.type?s("div",[s("div",{staticClass:"bg-dark-N16 my-1.5 p-4 rounded-lg"},[s("a",{staticClass:"relative t-overview-show_notifications",attrs:{role:"button",tabindex:"0"},on:{click:function(e){return t.$router.push("notifications")}}},[s("div",{staticClass:"font-bold leading-6 text-center text-dark-N77 text-sm text-white tracking-wide"},[t._v(" "+t._s(t.allTransactionsText)+" ")]),s("div",{staticClass:"absolute right-0 top-0"},[s("div",{staticClass:"icon-arrow_right right-8 text-dark-N77 top-6"})])])])]):s("div",[s("div",{staticClass:"-my-1.5"},[s("activity-item",{attrs:{activity:e}})],1)])])})),0)],1)])},U=[],V=s(18027),q=s(74597);const X=2,Y=84,J=68;var Q={name:"OverviewTransactions",components:{ActivityItem:V.Z,LottieComponent:I.Z},data(){return{timesTransactionsUpdated:0}},computed:{allTransactionsText(){return q.Z.capitalizeAllWords(this.$t("components.overviewTransactions.allTransactions"))},calculateHeight(){const t=this.itemsList;let e=0;t.length&&(e+=18);for(const s of t)"more"===s.type||"loader"===s.type?e+=J:e+=Y;return e},hasPendingTransactions(){return this.$store.getters.getPendingTransactions.length},itemsList(){const t=[];return this.transactionsLoading?(t.push(...this.latestTransactions.slice(0,2)),this.latestTransactions.length&&t.push({hash:"_footer",type:"loader"})):(t.push(...this.latestTransactions),t.length>0&&(t.splice(X),t.push({hash:"_footer",type:"more"}))),t},latestTransactions(){const{latestTransactions:t}=this.$store.getters;return t},transactionsLoading(){return!this.hasPendingTransactions&&this.$store.getters.isLoading("transactions")}},watch:{hasPendingTransactions(){this.timesTransactionsUpdated+=1}},async activated(){await this.$store.dispatch("clearExpiredApproval"),this.clearExpiredTransactions()},async created(){await this.$store.dispatch("getAllTransactions")},methods:{clearExpiredTransactions(){this.latestTransactions.every((t=>"pending"!==t.status))&&this.$store.dispatch("clearPendingTransactions")},getKey(t,e){return`el_${e}-${t.hash}`}}},tt=Q,et=(0,p.Z)(tt,K,U,!1,null,"5fd41cb4",null),st=et.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex font-bold items-baseline justify-between mx-4 my-5"},[s("h1",{staticClass:"-ml-0.5 t-watchlist_title text-2xl tracking-wider"},[t._v(" "+t._s(t.$t("general.watchlist"))+" ")]),t.watchlist.length?s("a",{staticClass:"cursor-pointer font-bold t-watchlist_widget-edit text-accent text-sm",on:{click:function(e){return t.$router.push({name:"WatchListSettings"})}}},[t._v(" "+t._s(t.$t("general.edit"))+" ")]):t._e()]),t.watchlist.length?s("transition-group",{staticClass:"flex flex-row my-4 overflow-x-auto pb-4 rtl-space-x-reverse space-x-4 t-watchlist",attrs:{appear:"",name:"item-transition",tag:"div"}},t._l(t.watchlist,(function(t,e){return s("watchlist-card",{key:t.symbol,style:{"--i":e},attrs:{token:t}})})),1):s("div",{staticClass:"bg-dark-N16 cursor-pointer flex items-center px-5 py-7 rounded-2.5xl t-watchlist_widget-settings",on:{click:function(e){return t.$router.push({name:"WatchListSettings"})}}},[s("lottie-component",{staticClass:"h-14 w-14",attrs:{src:"empty_watchlist_placeholder.json"}}),s("div",{staticClass:"flex-1 ms-5"},[s("div",{staticClass:"font-bold mb-1 text-sm text-white"},[t._v(" "+t._s(t.$t("components.watchlistWidget.watchlistEmpty"))+" ")]),s("div",{staticClass:"text-dark-N77 text-sm"},[t._v(" "+t._s(t.$t("components.watchlistWidget.startBuildingWatchlist"))+" ")])])],1)],1)},nt=[],at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-opacity-5 bg-white cursor-pointer flex-shrink-0 min-w-min p-4 rounded-xl t-watchlist_card-click w-32",on:{click:function(e){return t.onClick(t.token)}}},[s("div",{staticClass:"flex items-center mb-3"},[s("token-icon",{staticClass:"h-6 w-6",attrs:{address:t.token.address.toLowerCase(),chain:t.chain}}),s("span",{staticClass:"font-bold ms-2 text-md text-white"},[t._v(t._s(t.token.symbol))])],1),s("div",{staticClass:"font-light text-md text-white",class:{"-mx-2":String(t.rate).length>12}},[t._v(" "+t._s(t.rate)+" ")]),t.chartData&&t.chartData.length?s("div",{staticClass:"mb-2"},[s("i",{class:"icon-"+(t.incremental>=0?"triangle-up":"triangle-down")+" mr-2",style:{fontSize:"0.5rem",color:t.incremental>=0?"#3DF28E":"#FF5F68"}}),s("span",{staticClass:"font-semibold text-sm"},[t._v(t._s(t.priceChangePercentage))])]):t._e(),t.chartData&&t.chartData.length?s("trend-graph",{staticClass:"-mx-4",attrs:{"data-source":t.chartData,height:52,index:t.token.symbol,width:128}}):t._e()],1)},it=[],ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper"},[s("canvas",{ref:"canvasRef",attrs:{id:"canvas-"+t.index,height:t.height,width:t.width}})])},lt=[];const ct=(t,e)=>{const s=parseInt(`0x${t.slice(1,3)}`),r=parseInt(`0x${t.slice(3,5)}`),n=parseInt(`0x${t.slice(5,7)}`);return`rgba(${s}, ${r}, ${n}, ${e})`};var dt={name:"TrendGraph",props:{dataSource:{default:()=>[],type:Array},height:{default:48,type:[Number,String]},index:{default:0,type:[Number,String]},width:{default:128,type:[Number,String]}},mounted(){const t=this.createCanvas(this.$refs.canvasRef,this.width,this.height);t&&this.initCanvas(t)},methods:{color(t){return t.length<2?"#FFF":t[t.length-1]-t[0]>=0?"#3DF28E":"#FF5F68"},createCanvas(t,e,s){const r=window.devicePixelRatio||1,n=t.getContext("2d");return t.width=Number(e)*r,t.height=Number(s)*r,t.style.width=`${e}px`,t.style.height=`${s}px`,n&&(n.translate(0,t.height),n.scale(r,-r)),n},drawCurve(t,e=!0){const s=this.dataSource,r=Math.min(...s),n=Math.max(...s),a=Number(this.width)/(s.length-1),i=Number(this.height)/(n-r);s.forEach(((n,o)=>{const l=a*o,c=(Number(n)-r)*i;if(o<s.length-1){const n=a*(o+1),d=(Number(s[o+1])-r)*i,h=this.getMidPos([l,c],[n,d]);if(this.plotPath({ctx:t,drawLine:e,index:o,mid1:h,p1X:l,p1Y:c}),o<s.length-2){const l=a*(o+2),c=(Number(s[o+2])-r)*i,u=this.getMidPos([n,d],[l,c]);e&&(t.beginPath(),t.moveTo(...h)),t.quadraticCurveTo(n,d,...u),e&&t.stroke(),o===s.length-3&&(e&&t.beginPath(),t.moveTo(...u),t.lineTo(l,c),e?t.stroke():t.lineTo(l,0),t.lineTo(0,0))}}}))},drawShadow(t,e){this.drawCurve(t,!1);const s=t.createLinearGradient(50,0,50,200);s.addColorStop(0,ct(e,0)),s.addColorStop(1,e),t.fillStyle=s,t.fill()},getMidPos(t,e){const s=(t[0]+e[0])/2,r=(t[1]+e[1])/2;return[s,r]},initCanvas(t){const e=this.color(this.dataSource);t.strokeStyle=e,this.drawCurve(t),this.drawShadow(t,e)},plotPath({index:t,ctx:e,drawLine:s,p1X:r,p1Y:n,mid1:a}){0===t&&(e.beginPath(),s?e.moveTo(r,n):e.moveTo(0,0),!s&&e.lineTo(r,n),e.lineTo(...a),s&&e.stroke())}}},ht=dt,ut=(0,p.Z)(ht,ot,lt,!1,null,null,null),pt=ut.exports,gt=s(17786),mt={name:"WatchlistCard",components:{TokenIcon:k.Z,TrendGraph:pt},props:{token:{default:void 0,type:Object}},data(){return{chartData:[]}},computed:{chain(){return this.token?.chain},incremental(){const t=this.chartData,e=t.length;return e>0?t[e-1]-t[0]:0},isTokenSupported(){const{allSupportedTokens:t}=this.$store.getters;return this.$store.getters.getToken(this.token.address,this.chain,t)},priceChangePercentage(){const t=this.incremental/this.chartData[0]*100;return x.Z.localizePercentage(t)},rate(){let t=this.$store.getters.getPriceForToken(this.token);return t||(t=0),x.Z.localizeCurrency(t)}},created(){this.DATA_LENGTH="60",this.fetchData()},methods:{async fetchData(){const t=await gt.Z.getHistorical(this.token.symbol,this.DATA_LENGTH,"1m");t&&t.data&&Array.isArray(t.data.data)&&(this.chartData=t.data.data.sort(((t,e)=>t.time-e.time)).map((t=>t.price)))},onClick(t){const e=this.isTokenSupported;e?this.$router.push({name:"TokenOverview",query:{address:t.address,chain:JSON.stringify(t.chain),symbol:t.symbol}}):this.$router.push({name:"WatchlistDetails",query:{address:t.address,name:t.name,symbol:t.symbol}})}}},ft=mt,vt=(0,p.Z)(ft,at,it,!1,null,null,null),wt=vt.exports,kt={name:"WatchlistWidget",components:{LottieComponent:I.Z,WatchlistCard:wt},computed:{watchlist(){return this.$store.getters.watchlist}}},xt=kt,bt=(0,p.Z)(xt,rt,nt,!1,null,"855612b2",null),yt=bt.exports,Ct={name:"OverviewDashboard",components:{AssetActionRow:a.Z,AssetsBurger:L,BackToTop:D.Z,CryptoNews:O,NftsBurger:G,OverviewTransactions:st,WatchlistWidget:yt},beforeRouteEnter(t,e,s){s((t=>{t.$store.dispatch("setOnboardingOngoing",!1)}))},beforeRouteLeave(t,e,s){Object.assign(this.$scrollKeeper,{"overview-container-scroll":this.$refs.container.scrollTop,"overview-watchlist-scroll":this.$el.querySelector(".t-watchlist")?.scrollLeft||0}),s()},data(){return{cryptoCornerHeight:0,productName:"Opera Wallet",scroll:0,timesViewUpdated:0}},computed:{accountsByCoinType(){return this.$store.getters.accountsByCoinType},address(){return this.$store.getters.ownedTokens[0].contract.contract},allNfts(){return this.$store.getters.allNfts},isLoadingTokens(){return this.$store.getters.isLoading("tokens")},isOnMainnet(){return this.$store.getters.isOnMainnet},newsGradientBg(){return this.showNews&&!!this.cryptoCornerHeight},showNews(){return this.$store.getters.showNews},swappableTokens(){return this.$store.getters.swappableTokensFlat},token(){return this.$store.getters.ownedTokens[0]}},watch:{accountsByCoinType:{deep:!0,handler(){this.timesViewUpdated+=1}},showNews(t){t||(this.cryptoCornerHeight=0)}},async activated(){this.isLoadingTokens||this.$store.getters.isLoadedForAllEnabledChains("tokens")||(await this.$store.dispatch("getAllTokens"),await this.$store.dispatch("getAllTokenPrices")),this.$store.getters.enabledNetworks.length&&this.$store.getters.isOnMainnet&&(this.swappableTokens.length?this.$store.getters.getTimesLoaded("swappableTokens")||await this.$store.dispatch("updateSwappableTokens"):await this.$store.dispatch("getSwappableTokens")),this.allNfts.length||await this.$store.dispatch("getAllNfts"),setImmediate((()=>{this.$refs.container.scrollTop=this.$scrollKeeper["overview-container-scroll"]||0;const t=this.$el.querySelector(".t-watchlist");t&&(t.scrollLeft=this.$scrollKeeper["overview-watchlist-scroll"]||0)}))},async created(){f.Z.sendStatsEvent(f.Z.types.IMPRESSION,"wt_front_page")},methods:{goToSettings(){this.$router.push("settings")},setCryptoCornerHeight(t){this.cryptoCornerHeight=t}}},_t=Ct,Tt=(0,p.Z)(_t,r,n,!1,null,null,null),$t=Tt.exports},29738:function(t,e,s){t.exports=s.p+"img/collectible_placeholder.90e43ae1.svg"},39009:function(t,e,s){t.exports=s.p+"img/empty_assets.53df49da.svg"},84814:function(t,e,s){t.exports=s.p+"img/empty_nfts.7a03de26.svg"},80779:function(t,e,s){t.exports=s.p+"img/chevron_up.dbe760c6.svg"},23816:function(t,e,s){t.exports=s.p+"img/cog.a942bc08.svg"},4286:function(t,e,s){t.exports=s.p+"img/reload_nfts.c56955fa.svg"},47456:function(t,e,s){t.exports=s.p+"img/warning_circle_dark.0a0b2db5.svg"}}]);