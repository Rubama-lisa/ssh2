/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={416:(e,t,r)=>{"use strict";t.browser=r(150)},150:function(e,t){var r,o,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,o=[e],r=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",r="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",o=e=>{const o={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(o).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t=undefined){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const a=e=>e&&"object"==typeof e&&"function"==typeof e.then,s=(t,r)=>(...o)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):r.singleCallbackArg||o.length<=1&&!1!==r.singleCallbackArg?t.resolve(o[0]):t.resolve(o)},i=e=>1==e?"argument":"arguments",c=(e,t)=>function(r,...o){if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise(((n,a)=>{if(t.fallbackToNoCallback)try{r[e](...o,s({resolve:n,reject:a},t))}catch(a){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,a),r[e](...o),t.fallbackToNoCallback=!1,t.noCallback=!0,n()}else t.noCallback?(r[e](...o),n()):r[e](...o,s({resolve:n,reject:a},t))}))},l=(e,t,r)=>new Proxy(t,{apply:(t,o,n)=>r.call(o,e,...n)});let h=Function.call.bind(Object.prototype.hasOwnProperty);const m=(e,t={},r={})=>{let o=Object.create(null),n={has:(t,r)=>r in e||r in o,get(n,a,s){if(a in o)return o[a];if(!(a in e))return;let i=e[a];if("function"==typeof i)if("function"==typeof t[a])i=l(e,e[a],t[a]);else if(h(r,a)){let t=c(a,r[a]);i=l(e,e[a],t)}else i=i.bind(e);else if("object"==typeof i&&null!==i&&(h(t,a)||h(r,a)))i=m(i,t[a],r[a]);else{if(!h(r,"*"))return Object.defineProperty(o,a,{configurable:!0,enumerable:!0,get:()=>e[a],set(t){e[a]=t}}),i;i=m(i,t[a],r["*"])}return o[a]=i,i},set:(t,r,n,a)=>(r in o?o[r]=n:e[r]=n,!0),defineProperty:(e,t,r)=>Reflect.defineProperty(o,t,r),deleteProperty:(e,t)=>Reflect.deleteProperty(o,t)},a=Object.create(e);return new Proxy(a,n)},p=e=>({addListener(t,r,...o){t.addListener(e.get(r),...o)},hasListener:(t,r)=>t.hasListener(e.get(r)),removeListener(t,r){t.removeListener(e.get(r))}}),u=new n((e=>"function"!=typeof e?e:function(t){const r=m(t,{},{getContent:{minArgs:0,maxArgs:0}});e(r)}));let w=!1;const d=new n((e=>"function"!=typeof e?e:function(t,o,n){let s,i,c=!1,l=new Promise((e=>{s=function(t){w||(console.warn(r,(new Error).stack),w=!0),c=!0,e(t)}}));try{i=e(t,o,s)}catch(e){i=Promise.reject(e)}const h=!0!==i&&a(i);if(!0!==i&&!h&&!c)return!1;const m=e=>{e.then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return m(h?i:l),!0})),g=({reject:r,resolve:o},n)=>{e.runtime.lastError?e.runtime.lastError.message===t?o():r(new Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?r(new Error(n.message)):o(n)},f=(e,t,r,...o)=>{if(o.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${o.length}`);if(o.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${o.length}`);return new Promise(((e,t)=>{const n=g.bind(null,{resolve:e,reject:t});o.push(n),r.sendMessage(...o)}))},b={devtools:{network:{onRequestFinished:p(u)}},runtime:{onMessage:p(d),onMessageExternal:p(d),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},v={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return o.privacy={network:{"*":v},services:{"*":v},websites:{"*":v}},m(e,b,o)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=o(chrome)}else e.exports=browser},void 0===(n="function"==typeof r?r.apply(t,o):r)||(e.exports=n)},61:(e,t,r)=>{var o=r(698).default;function n(){"use strict";e.exports=n=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,a=r.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",h=i.toStringTag||"@@toStringTag";function m(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{m({},"")}catch(e){m=function(e,t,r){return e[t]=r}}function p(e,t,r,o){var n=t&&t.prototype instanceof d?t:d,a=Object.create(n.prototype),i=new E(o||[]);return s(a,"_invoke",{value:P(e,r,i)}),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var w={};function d(){}function g(){}function f(){}var b={};m(b,c,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==r&&a.call(y,c)&&(b=y);var A=f.prototype=d.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){m(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(n,s,i,c){var l=u(e[n],e,s);if("throw"!==l.type){var h=l.arg,m=h.value;return m&&"object"==o(m)&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(m).then((function(e){h.value=e,i(h)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var n;s(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,n){r(e,o,t,n)}))}return n=n?n.then(a,a):a()}})}function P(e,t,r){var o="suspendedStart";return function(n,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===n)throw a;return I()}for(r.method=n,r.arg=a;;){var s=r.delegate;if(s){var i=T(s,r);if(i){if(i===w)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===o)throw o="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o="executing";var c=u(e,t,r);if("normal"===c.type){if(o=r.done?"completed":"suspendedYield",c.arg===w)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o="completed",r.method="throw",r.arg=c.arg)}}}function T(e,t){var r=t.method,o=e.iterator[r];if(void 0===o)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),w;var n=u(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,w;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,w):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,w)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:void 0,done:!0}}return g.prototype=f,s(A,"constructor",{value:f,configurable:!0}),s(f,"constructor",{value:g,configurable:!0}),g.displayName=m(f,h,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,m(e,h,"GeneratorFunction")),e.prototype=Object.create(A),e},t.awrap=function(e){return{__await:e}},x(k.prototype),m(k.prototype,l,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,o,n,a){void 0===a&&(a=Promise);var s=new k(p(e,r,o,n),a);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(A),m(A,h,"Generator"),m(A,c,(function(){return this})),m(A,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],s=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var i=a.call(n,"catchLoc"),c=a.call(n,"finallyLoc");if(i&&c){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=e,s.arg=t,n?(this.method="next",this.next=n.finallyLoc,w):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var n=o.arg;C(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),w}},t}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},698:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},687:(e,t,r)=>{var o=r(61)();e.exports=o;try{regeneratorRuntime=o}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,r||"default");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}function o(e,r,o){return(r=t(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}function n(e,t,r,o,n,a,s){try{var i=e[a](s),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(o,n)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var s=e.apply(t,r);function i(e){n(s,o,a,i,c,"next",e)}function c(e){n(s,o,a,i,c,"throw",e)}i(void 0)}))}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function i(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,a,s,i=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=a.call(r)).done)&&(i.push(o.value),i.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw n}}return i}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=r(687),m=r.n(h),p=!1,u=window.alert,w=window.console.log,d=window.console.debug,g=window.console.warn,f=window.console.info;window.console.log=function(){return p&&w.apply(void 0,arguments)},window.console.debug=function(){return p&&d.apply(void 0,arguments)},window.console.warn=function(){return p&&g.apply(void 0,arguments)},window.console.info=function(){return p&&f.apply(void 0,arguments)},window.alert=function(e){p&&u(e)},Function.prototype.asPromise||Object.defineProperty(Function.prototype,"asPromise",{configurable:!1,enumerable:!1,value:function(){for(var e=this,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var n=r.findIndex((function(e){return e===Promise.resolve})),a=r.findIndex((function(e){return e===Promise.reject}));return new Promise((function(t,o){var s=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(chrome&&chrome.runtime&&chrome.runtime.lastError)o(chrome.runtime.lastError);else if(r.length>1)t(r);else{var a=r[0];t(a)}};-1!==n?r.splice(n,1,s):r.push(s),-1!==a&&r.splice(a,1,o);try{e.apply(void 0,r)}catch(e){o(e)}}))},writable:!1});var b,v=r(416);function y(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t(n.key),n)}}function A(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw a}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}!function(e){e.PING="PING",e.PONG="PONG",e.ON_CHAT_LOGGED_IN="ON_CHAT_LOGGED_IN",e.CHAT_TEXT_MESSAGE="CHAT_TEXT_MESSAGE",e.GET_CHAT_ADAPTER="GET_CHAT_ADAPTER",e.SET_CHAT_ADAPTER="SET_CHAT_ADAPTER",e.GET_CHAT_READY="GET_CHAT_READY",e.GET_CHAT_STATUS="GET_CHAT_STATUS",e.OPEN_CHATVIEW="OPEN_CHATVIEW",e.OPERATIONAL_REPORT="OPERATIONAL_REPORT",e.REGISTER_CHAT_PORT="REGISTER_CHAT_PORT",e.LOGGED_IN_REPORT="LOGGED_IN_REPORT",e.SEND_STATS="SEND_STATS"}(b||(b={}));var k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"registeredCallbacks",{})}var t,r,n;return t=e,r=[{key:"on",value:function(e,t){var r=e;Array.isArray(r)||(r=[e]);var o,n=A(r);try{for(n.s();!(o=n.n()).done;){var a=o.value;this.registeredCallbacks[a]||(this.registeredCallbacks[a]=[]),this.registeredCallbacks[a].splice(0,0,t)}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"removeListener",value:function(e,t){if(this.registeredCallbacks[e]){for(var r=this.registeredCallbacks[e].length-1;r>=0;r-=1)this.registeredCallbacks[e][r]===t&&this.registeredCallbacks[e].splice(r,1);this.registeredCallbacks[e].indexOf(t)}}},{key:"dispatch",value:function(e){for(var t=this,r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];return this.registeredCallbacks[e]&&this.registeredCallbacks[e].forEach((function(e){e.apply(t,o)})),this}}],r&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e){return new Promise((function(t){return setTimeout(t,e)}))}var T="commands-storage",S="editor-mode",C="editor-commands-storage",E="isHiglightedPrompt",O="text-info",I="prompt-data";function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=new Map,G=new Map,V="ChatGpt",L=0;opr.browserSidebarPrivate.reloadPanelsUsingPrefId(V);var R=function(){var e=a(m().mark((function e(){var t,r,o,n,a,s,i,c,l,h,p,u,w,d,g,f,b,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=V,e.prev=1,e.next=4,null===(o=opr.browserSidebarPrivate)||void 0===o||null===(n=o.isVisible)||void 0===n?void 0:n.asPromise();case 4:return e.sent||null===(h=opr.browserSidebarPrivate)||void 0===h||h.setVisible(!0),e.next=8,null===(a=opr.browserSidebarPrivate)||void 0===a||null===(s=a.getItemsInfo)||void 0===s?void 0:s.asPromise();case 8:if(p=e.sent,u=null==p?void 0:p.find((function(e){return e.pref_id===t})),w=null==u?void 0:u.visible,!u||w){e.next=14;break}return e.next=14,null===(d=opr.browserSidebarPrivate)||void 0===d||null===(g=d.setItemVisibleUsingPrefId)||void 0===g?void 0:g.asPromise(t,!0);case 14:return e.next=16,null===(i=opr.browserSidebarPrivate)||void 0===i||null===(c=i.getPanelStatus)||void 0===c?void 0:c.asPromise();case 16:if(f=e.sent,r=null==f?void 0:f.shown_item_pref_id,b=null==f?void 0:f.docked,v=!(null==f||!f.shown_item_pref_id),!b||!v||r!==t){e.next=22;break}return e.abrupt("return");case 22:return b&&!v&&opr.browserSidebarPrivate.undockPanel(),null===(l=opr.browserSidebarPrivate)||void 0===l||l.expandItemUsingPrefId(t),e.next=26,new Promise((function(e){setTimeout(e,500)}));case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(1),console.error("[service-worker]",e.t0);case 31:case"end":return e.stop()}}),e,null,[[1,28]])})));return function(){return e.apply(this,arguments)}}(),N=new k,M=function(){var e=a(m().mark((function e(t,r){var o,n,a,s,i,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(o||!(n<30)){e.next=9;break}if(o=D.get(t)){e.next=7;break}return e.next=6,P(100);case 6:n+=1;case 7:e.next=1;break;case 9:if(o){e.next=12;break}return alert("Try reload ChatGPT Panel manually"),e.abrupt("return",{error:"there is no port for currentActiveWindowId",operational:!1});case 12:return a=++L,s={type:b.GET_CHAT_STATUS,response_id:a},o.postMessage(s),i=new Promise((function(e,n){G.set(a,{windowId:t,tabId:r,port:o,reject:n,resolve:e})})),G.set(a,j({promise:i},G.get(a))),e.next=19,i;case 19:return c=e.sent,e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){var e=a(m().mark((function e(t,r,o){var n,a,s,i,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D.get(t)){e.next=4;break}return alert("goToChatView: there is no port for currentActiveWindowId"),e.abrupt("return",{error:"there is no port for currentActiveWindowId",operational:!1});case 4:if(a=++L,s={type:b.OPEN_CHATVIEW,response_id:a},n.postMessage(s),console.log("[service-worker] [chatGPTGoToChatView]",s,o),o){e.next=19;break}return i=new Promise((function(e,o){G.set(a,{type:"operational-waiter",tabId:r,windowId:t,port:n,resolve:e,reject:o})})),G.set(a,j({promise:i},G.get(a))),console.log("[service-worker] [chatGPTGoToChatView] - chatGPTPromisesBucket - get",G.get(a),G),e.next=14,i;case 14:if(c=e.sent,console.log("[service-worker] [chatgpt] goToChatView - openChatViewResult",c),!c.operational){e.next=18;break}return e.abrupt("return",c);case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),U=function(){var e=a(m().mark((function e(t,r,o,n){var a,s,i,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[sendToChatGPT]",t,{text:o,replace_question:n}),N.dispatch("shorten-dry-lock"),e.next=4,R();case 4:return console.log("[sendToChatGPT] - open panel"),e.next=7,M(t);case 7:if(a=e.sent,console.log("[sendToChatGPT] - status",a),null!=a&&a.operational){e.next=24;break}return N.dispatch("shorten-dry-unlock"),N.dispatch("shorten-update"),console.log("[sendToChatGPT] - not operational"),e.prev=13,e.next=16,z(t,r);case 16:console.log("[sendToChatGPT] - chatGPTGoToChatView"),e.next=24;break;case 19:return e.prev=19,e.t0=e.catch(13),console.log("[service-worker] [sendToChatGPT] [chatgpt] cannot open chat view",e.t0),alert("I cannot open the chat view, please navigate to it in the ChatGPT panel."),e.abrupt("return");case 24:if(console.log("[service-worker] [sendToChatGPT] [chatgpt] - status",a),!(s=D.get(t))){e.next=38;break}return i=++L,c={type:b.CHAT_TEXT_MESSAGE,data:{text:o,replace_question:n},response_id:i},l=new Promise((function(e,o){G.set(i,{windowId:t,tabId:r,port:s,resolve:e,reject:o})})),G.set(i,j({promise:l},G.get(i))),console.log("[service-worker] [sendToChatGPT] [send] ",G.get(i)),s.postMessage(c),N.dispatch("shorten-update"),console.log("[service-worker] [sendToChatGPT] [returning promise]",l),e.abrupt("return",l);case 38:return e.abrupt("return",Promise.resolve({error:"No ChatGPT port for current window, please reload ChatGPT panel."}));case 39:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,r,o,n){return e.apply(this,arguments)}}();function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=new Map,q=new Map,F="ChatSonic",$=0;opr.browserSidebarPrivate.reloadPanelsUsingPrefId(F);var Y=function(){var e=a(m().mark((function e(){var t,r,o,n,a,s,i,c,l,h,p,u,w,d,g,f,b,v;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=F,e.prev=1,e.next=4,null===(o=opr.browserSidebarPrivate)||void 0===o||null===(n=o.isVisible)||void 0===n?void 0:n.asPromise();case 4:return e.sent||null===(h=opr.browserSidebarPrivate)||void 0===h||h.setVisible(!0),e.next=8,null===(a=opr.browserSidebarPrivate)||void 0===a||null===(s=a.getItemsInfo)||void 0===s?void 0:s.asPromise();case 8:if(p=e.sent,u=null==p?void 0:p.find((function(e){return e.pref_id===t})),w=null==u?void 0:u.visible,!u||w){e.next=14;break}return e.next=14,null===(d=opr.browserSidebarPrivate)||void 0===d||null===(g=d.setItemVisibleUsingPrefId)||void 0===g?void 0:g.asPromise(t,!0);case 14:return e.next=16,null===(i=opr.browserSidebarPrivate)||void 0===i||null===(c=i.getPanelStatus)||void 0===c?void 0:c.asPromise();case 16:if(f=e.sent,r=null==f?void 0:f.shown_item_pref_id,b=null==f?void 0:f.docked,v=!(null==f||!f.shown_item_pref_id),!b||!v||r!==t){e.next=22;break}return e.abrupt("return");case 22:return b&&!v&&opr.browserSidebarPrivate.undockPanel(),null===(l=opr.browserSidebarPrivate)||void 0===l||l.expandItemUsingPrefId(t),e.next=26,new Promise((function(e){setTimeout(e,500)}));case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(1),console.error("[service-worker] [chatsonic]",e.t0);case 31:case"end":return e.stop()}}),e,null,[[1,28]])})));return function(){return e.apply(this,arguments)}}(),X=new k,J=function(){var e=a(m().mark((function e(t,r){var o,n,a,s,i,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(o||!(n<30)){e.next=9;break}if(o=W.get(t)){e.next=7;break}return e.next=6,P(100);case 6:n+=1;case 7:e.next=1;break;case 9:if(o){e.next=12;break}return alert("no port connection from panel, please reload chatsonic panel"),e.abrupt("return",{error:"there is no port for currentActiveWindowId",operational:!1});case 12:return a=++$,s={type:b.GET_CHAT_STATUS,response_id:a},o.postMessage(s),i=new Promise((function(e,n){q.set(a,{windowId:t,tabId:r,port:o,resolve:e,reject:n})})),q.set(a,H({promise:i},q.get(a))),e.next=19,i;case 19:return c=e.sent,e.abrupt("return",c);case 21:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Z=function(){var e=a(m().mark((function e(t,r,o){var n,a,s,i,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=W.get(t)){e.next=4;break}return alert("goToChatView: there is no port for currentActiveWindowId"),e.abrupt("return",{error:"there is no port for currentActiveWindowId",operational:!1});case 4:if(a=++$,s={type:b.OPEN_CHATVIEW,response_id:a},n.postMessage(s),o){e.next=17;break}return i=new Promise((function(e,o){q.set(a,{type:"operational-waiter",windowId:t,tabId:r,port:n,resolve:e,reject:o})})),q.set(a,H({promise:i},q.get(a))),e.next=12,i;case 12:if(c=e.sent,console.log("[service-worker] [chatsonic] goToChatView - openChatViewResult",c),!c.operational){e.next=16;break}return e.abrupt("return",c);case 16:return e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)})));return function(t,r,o){return e.apply(this,arguments)}}(),K=function(){var e=a(m().mark((function e(t,r,o,n){var a,s,i,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.dispatch("shorten-dry-lock"),e.next=3,Y();case 3:return e.next=5,J(t);case 5:if(null!=(a=e.sent)&&a.operational){e.next=19;break}return X.dispatch("shorten-dry-unlock"),X.dispatch("shorten-update"),e.prev=9,e.next=12,Z(t,r);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(9),console.log("[service-worker] [chatsonic] cannot open chat view",e.t0),alert("I cannot open the chat view, please navigate to it in the ChatSonic panel."),e.abrupt("return");case 19:if(console.log("[service-worker] [chatsonic] - status",a),!(s=W.get(t))){e.next=29;break}return i=++$,c={type:b.CHAT_TEXT_MESSAGE,data:{text:o,replace_question:n},response_id:i},l=new Promise((function(e,o){q.set(i,{windowId:t,tabId:r,port:s,resolve:e,reject:o})})),q.set(i,H({promise:l},q.get(i))),s.postMessage(c),X.dispatch("shorten-update"),e.abrupt("return",l);case 29:return e.abrupt("return",Promise.resolve({error:"No active ChatSonic port for current window, please reload ChatSonic panel."}));case 30:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,r,o,n){return e.apply(this,arguments)}}();const Q=JSON.parse('[{"ai":"ChatGPT","command":"Summarize the text into bullet points. Identify the main ideas and key details in the text, and condense them into concise bullet points. Recognize the overall structure of the text and create bullet points that reflect this structure. The output should be presented in a clear and organized way. Do not start with any titles. The text is %s","endDate":"","highlightedPrompt":false,"id":"shorten-1678920946075953","label":"Shorten","language":"en","maxValue":"","minValue":"","order":"1001","placeholder":"Shorten \\"%t\\"","shortenPrompt":true,"startDate":"","url":""},{"ai":"ChatGPT","command":"Set Temperature 0. Analyse this text, then write what the main issue in one sentence followed by three bullet points (without any extra comentary or a title). Extract five keywords from the text as clickable http links of Google search queries. Use markdown hyperlink format (URL). Topic is: %s","endDate":"","highlightedPrompt":false,"id":"what\'sthemainpoint?-1678912005650432","label":"What\'s the main point","language":"en","maxValue":"","minValue":"","order":"1002","placeholder":"What\'s the main point of \\"%t\\". Suggest keywords for further exploration.","shortenPrompt":true,"startDate":"","url":""},{"ai":"ChatSonic","command":"Find more content related to the topic and provide the source links. The topic is %s","endDate":"","highlightedPrompt":false,"id":"findrelatedcontent-1678923178271312","label":"Find related content","language":"en","maxValue":"","minValue":"","order":"1003","placeholder":"Find related content to \\"%t\\"","shortenPrompt":true,"startDate":"","url":""},{"ai":"ChatSonic","command":"Briefly explain a topic in a specific context, in three bullet-points or less. The topic is %s in the context of %t. ","endDate":"","highlightedPrompt":true,"id":"explainbriefly-1678921725635993","label":"Explain briefly","language":"en","maxValue":"","minValue":"","order":"1101","placeholder":"Briefly explain the highlighted text","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatSonic","command":"Tell me more about this topic or, if anything is wrong with it, just repeat it. Then provide a few https links to Google search queries about the topic (or related topics). Please don\'t provide other links. Use markdown hyperlink format [link text](URL) to make the links clickable. Topic is: %s","endDate":"","highlightedPrompt":true,"id":"explorethis-1679339712948804","label":"Explore this","language":"en","maxValue":"240","minValue":"2","order":"1102","placeholder":"Help me further explore \\"%s\\"","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Summarize the text into maximum 3 bullet points. Identify the main ideas and key details in the text, and condense them into concise bullet points. The output should be presented in a clear and organized way. Do not start with any titles. The text is %s","endDate":"","highlightedPrompt":true,"id":"shorten-1679340896989302","label":"Shorten","language":"en","maxValue":"2000","minValue":"801","order":"1103","placeholder":"Shorten the highlighted text","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Translate %s. If you don\'t know the output language, ask to specify it (without any extra commentary). ","endDate":"","highlightedPrompt":true,"id":"translate-1679997809945821","label":"Translate","language":"en","maxValue":"800","minValue":"4","order":"1104","placeholder":"Translate %s","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Create a comment about %s using maximum 280 characters. Add three hashtags. Add no special commentary after hashtags. Use the temperature scale of 0.4","endDate":"","highlightedPrompt":false,"id":"createatweet-1678918562359239","label":"Create a tweet","language":"en","maxValue":"","minValue":"","order":"2001","placeholder":"Create a tweet about \\"%t\\"","shortenPrompt":true,"startDate":"","url":""},{"ai":"ChatGPT","command":"Share your thoughts on a topic in a brief comment. Your comment should be concise and focused, consisting of a maximum of 3 short and to-the-point sentences. Use evidence to support your viewpoint and acknowledge opposing views. End your comment with an open-ended question that invites others to share their perspectives or provide additional information. Remember to convey your ideas clearly while keeping your comment brief. The topic is %s","endDate":"","highlightedPrompt":false,"id":"commentlikeapro-1678892585397592","label":"Comment like a Pro","language":"en","maxValue":"","minValue":"","order":"2004","placeholder":"Write a professional comment about \\"%t\\"","shortenPrompt":true,"startDate":"","url":"http://theverge.com, http://zdnet.com, http://techcrunch.com, http://gizmodo.com, https://www.techhive.com/, https://www.cbinsights.com/, https://lifehacker.com/, https://www.computerworld.com/in/, https://www.howtogeek.com/, https://www.producthunt.com/, https://www.pcworld.com/, https://www.digitaltrends.com/, https://www.cnet.com/, https://www.pocket-lint.com/, http://pcmag.com/, http://lifewire.com/, https://arstechnica.com/, http://thenextweb.com/, http://engadget.com/, http://venturebeat.com/, https://www.geekwire.com/, https://www.wired.com/, https://www.ubergizmo.com/, https://www.gadgetsnow.com/, https://www.macworld.com/, https://appleinsider.com/, https://www.macrumors.com/, https://in.reuters.com/, https://www.inc.com/, https://variety.com/, https://medium.com/, https://www.vox.com/, https://www.adweek.com/, https://fortune.com/, https://www.fastcompany.com/, http://businessinsider.com/, http://mashable.com/, http://mashable.com/, http://www.forbes.com/, https://247wallst.com/, https://www.businessinsider.com/, https://www.cnbc.com/world/?region=world, https://www.bloomberg.com/, https://www.bloomberg.com/businessweek, https://www.ft.com/, https://www.forbes.com/, https://www.gfmag.com/, https://fortune.com/, https://www.inc.com/, https://www.wsj.com/, https://www.economist.com/, http://uol.com.br, http://globo.com, http://metropoles.com, http://terra.com.br, https://www.finanzen.net, https://www.handelsblatt.com, https://www.tagesschau.de/, https://www.spiegel.de, https://www.businessinsider.de/, https://www.businessinsider.de/, https://www.finanzen100.de, https://www.onvista.de/, https://www.wallstreet-online.de/, https://www.boerse.de/, https://www.sueddeutsche.de/, https://www.finanznachrichten.de/ "},{"ai":"ChatGPT","command":"You want to hype people about new thing you just found on the web. Share your enthusiasm overly. Write a one sentence comment about the topic. Start with your reaction and a statement about how this topic can change your life. End with emojis. The topic is %s.","endDate":"","highlightedPrompt":false,"id":"hypethistocoworkers-1679339712948920","label":"Hype this to coworkers","language":"en","maxValue":"","minValue":"","order":"2005","placeholder":"Hype your coworkers about this \\"%t\\"","shortenPrompt":true,"startDate":"","url":"http://theverge.com, http://zdnet.com, http://techcrunch.com, http://gizmodo.com, https://www.techhive.com/, https://www.cbinsights.com/, https://lifehacker.com/, https://www.computerworld.com/in/, https://www.howtogeek.com/, https://www.producthunt.com/, https://www.pcworld.com/, https://www.digitaltrends.com/, https://www.cnet.com/, https://www.pocket-lint.com/, http://pcmag.com/, http://lifewire.com/, https://arstechnica.com/, http://thenextweb.com/, http://engadget.com/, http://venturebeat.com/, https://www.geekwire.com/, https://www.wired.com/, https://www.ubergizmo.com/, https://www.gadgetsnow.com/, https://www.macworld.com/, https://appleinsider.com/, https://www.macrumors.com/, https://in.reuters.com/, https://www.inc.com/, https://variety.com/, https://medium.com/, https://www.vox.com/, https://www.adweek.com/, https://fortune.com/, https://www.fastcompany.com/, http://businessinsider.com/, http://mashable.com/, http://mashable.com/, http://www.forbes.com/, https://247wallst.com/, https://www.businessinsider.com/, https://www.cnbc.com/world/?region=world, https://www.bloomberg.com/, https://www.bloomberg.com/businessweek, https://www.ft.com/, https://www.forbes.com/, https://www.gfmag.com/, https://fortune.com/, https://www.inc.com/, https://www.wsj.com/, https://www.economist.com/, http://visitnorway.com, http://netflix.com, http://opera.com, https://www.yahoo.com/, http://msn.com, http://nytimes.com, http://bbc.co.uk, http://cnn.com, http://theguardian.com, http://foxnews.com, http://wp.pl, http://onet.pl, http://dailymail.co.uk, http://bild.de, http://nypost.com, http://people.com, http://uol.com.br, http://globo.com, http://metropoles.com, http://terra.com.br, http://www.chip.de/, http://www.computerbild.de/, http://www.golem.de/, http://www.heise.de/, https://t3n.de, https://www.basicthinking.de/blog/, https://www.giga.de, https://www.ditechnology.de, https://www.handelsblatt.com, https://www.tagesschau.de/thema/technologie/, https://www.forschung-und-wissen.de/, https://www.wiwo.de/, https://www.spektrum.de/news/technik/, https://de.euronews.com/tag/technologie, https://www.businessinsider.de/tech/, https://www.finanzen.net, https://www.handelsblatt.com, https://www.tagesschau.de/, https://www.spiegel.de, https://www.businessinsider.de/, https://www.businessinsider.de/, https://www.finanzen100.de, https://www.onvista.de/, https://www.wallstreet-online.de/, https://www.boerse.de/, https://www.sueddeutsche.de/, https://www.finanznachrichten.de/ "},{"ai":"ChatSonic","command":"Ask five short question about %t and %s","endDate":"","highlightedPrompt":false,"id":"askquestionsaboutthis-167933971294883","label":"Ask questions about this","language":"en","maxValue":"","minValue":"","order":"2012","placeholder":"Ask questions about \\"%t\\"","shortenPrompt":true,"startDate":"","url":"http://wikipedia.org"},{"ai":"ChatGPT","command":"Rewrite this text using a synonym or synonyms. The text is %s","endDate":"","highlightedPrompt":true,"id":"rewriteusingsynonyms-1679339712948755","label":"Rewrite using synonyms","language":"en","maxValue":"32","minValue":"2","order":"2101","placeholder":"Rewrite \\"%s\\" using synonyms","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Rewrite the following as the quiz question with 3 answers and only 1 right: \\"%s\\"","endDate":"","highlightedPrompt":true,"id":"createaquizquestion-1679339712948739","label":"Create a quiz question","language":"en","maxValue":"800","minValue":"33","order":"2102","placeholder":"Create a quiz question about a highlighted text from \\"%t\\"","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"You want to hype people about new thing you just found on the web. Share your enthusiasm overly. Write a one sentence comment about the topic. Start with your reaction and a statement about how this topic can change your life. End with emojis. The topic is %s.","endDate":"","highlightedPrompt":true,"id":"hypethistocoworkers-1679401881849384","label":"Hype this to coworkers","language":"en","maxValue":"240","minValue":"2","order":"2103","placeholder":"Hype your coworkers about this \\"%s\\"","shortenPrompt":false,"startDate":"","url":"http://theverge.com, http://zdnet.com, http://techcrunch.com, http://gizmodo.com, https://www.techhive.com/, https://www.cbinsights.com/, https://lifehacker.com/, https://www.computerworld.com/in/, https://www.howtogeek.com/, https://www.producthunt.com/, https://www.pcworld.com/, https://www.digitaltrends.com/, https://www.cnet.com/, https://www.pocket-lint.com/, http://pcmag.com/, http://lifewire.com/, https://arstechnica.com/, http://thenextweb.com/, http://engadget.com/, http://venturebeat.com/, https://www.geekwire.com/, https://www.wired.com/, https://www.ubergizmo.com/, https://www.gadgetsnow.com/, https://www.macworld.com/, https://appleinsider.com/, https://www.macrumors.com/, https://in.reuters.com/, https://www.inc.com/, https://variety.com/, https://medium.com/, https://www.vox.com/, https://www.adweek.com/, https://fortune.com/, https://www.fastcompany.com/, http://businessinsider.com/, http://mashable.com/, http://mashable.com/, http://www.forbes.com/, https://247wallst.com/, https://www.businessinsider.com/, https://www.cnbc.com/world/?region=world, https://www.bloomberg.com/, https://www.bloomberg.com/businessweek, https://www.ft.com/, https://www.forbes.com/, https://www.gfmag.com/, https://fortune.com/, https://www.inc.com/, https://www.wsj.com/, https://www.economist.com/, http://visitnorway.com, http://netflix.com, http://opera.com, https://www.yahoo.com/, http://msn.com, http://nytimes.com, http://bbc.co.uk, http://cnn.com, http://theguardian.com, http://foxnews.com, http://wp.pl, http://onet.pl, http://dailymail.co.uk, http://bild.de, http://nypost.com, http://people.com, http://uol.com.br, http://globo.com, http://metropoles.com, http://terra.com.br, http://www.chip.de/, http://www.computerbild.de/, http://www.golem.de/, http://www.heise.de/, https://t3n.de, https://www.basicthinking.de/blog/, https://www.giga.de, https://www.ditechnology.de, https://www.handelsblatt.com, https://www.tagesschau.de/thema/technologie/, https://www.forschung-und-wissen.de/, https://www.wiwo.de/, https://www.spektrum.de/news/technik/, https://de.euronews.com/tag/technologie, https://www.businessinsider.de/tech/, https://www.finanzen.net, https://www.handelsblatt.com, https://www.tagesschau.de/, https://www.spiegel.de, https://www.businessinsider.de/, https://www.businessinsider.de/, https://www.finanzen100.de, https://www.onvista.de/, https://www.wallstreet-online.de/, https://www.boerse.de/, https://www.sueddeutsche.de/, https://www.finanznachrichten.de/, http://twitter.com, http://facebook.com"},{"ai":"ChatGPT","command":"Please analyze %t and identify any place names mentioned within it. Based on the detected place, please recommend local dishes to try and sights to see, in a form of a list:","endDate":"","highlightedPrompt":true,"id":"recommendsitesandfood-1678889887917588","label":"Recommend sites and food","language":"en","maxValue":"32","minValue":"2","order":"2111","placeholder":"Recommend some places to see and food to try here: %s","shortenPrompt":false,"startDate":"","url":"http://booking.com, http://tripadvisor.com, http://airbnb.com, http://expedia.com, http://hotels.com, http://kayak.com"},{"ai":"ChatSonic","command":"Find two similar products to %s. Compare all three, in the form of a table.","endDate":"","highlightedPrompt":true,"id":"findcheaperalternative-1679263550561847","label":"Compare to alternatives","language":"en","maxValue":"48","minValue":"4","order":"2112","placeholder":"Compare \\"%s\\" to alternative products","shortenPrompt":false,"startDate":"","url":"http://amazon.com"},{"ai":"ChatGPT","command":"Generate a meme caption and suggest an image idea based on %s and %t. Additionally, provide websites that can be used to create memes: [list of meme generator websites]. And free-to-use images for a meme [list of websites offering free images].","endDate":"","highlightedPrompt":false,"id":"createameme-1679183575773312","label":"Create a meme idea","language":"en","maxValue":"","minValue":"","order":"3001","placeholder":"Create a meme idea based on \\"%t\\"","shortenPrompt":true,"startDate":"","url":""},{"ai":"ChatGPT","command":"Imagine you are an old grumpy person, avoiding people, change, world and noise. You think trends are funny and useless. You don\'t want to bother to care about anything. Generate a one-sentence comment (without any extra commentary) about this %s. Use the temperature scale of 1.0","endDate":"","highlightedPrompt":false,"id":"commentlikeagrumpycat-1678914896053819","label":"Comment like a grumpy cat","language":"en","maxValue":"","minValue":"","order":"3004","placeholder":"Comment like a grumpy cat about this \\"%t\\"","shortenPrompt":true,"startDate":"","url":"http://theverge.com, http://zdnet.com, http://techcrunch.com, http://gizmodo.com, https://www.techhive.com/, https://www.cbinsights.com/, https://lifehacker.com/, https://www.computerworld.com/in/, https://www.howtogeek.com/, https://www.producthunt.com/, https://www.pcworld.com/, https://www.digitaltrends.com/, https://www.cnet.com/, https://www.pocket-lint.com/, http://pcmag.com/, http://lifewire.com/, https://arstechnica.com/, http://thenextweb.com/, http://engadget.com/, http://venturebeat.com/, https://www.geekwire.com/, https://www.wired.com/, https://www.ubergizmo.com/, https://www.gadgetsnow.com/, https://www.macworld.com/, https://appleinsider.com/, https://www.macrumors.com/, https://in.reuters.com/, https://www.inc.com/, https://variety.com/, https://medium.com/, https://www.vox.com/, https://www.adweek.com/, https://fortune.com/, https://www.fastcompany.com/, http://businessinsider.com/, http://mashable.com/, http://mashable.com/, http://www.forbes.com/, https://247wallst.com/, https://www.businessinsider.com/, https://www.cnbc.com/world/?region=world, https://www.bloomberg.com/, https://www.bloomberg.com/businessweek, https://www.ft.com/, https://www.forbes.com/, https://www.gfmag.com/, https://fortune.com/, https://www.inc.com/, https://www.wsj.com/, https://www.economist.com/, https://www.yahoo.com/, http://msn.com, http://nytimes.com, http://bbc.co.uk, http://cnn.com, http://theguardian.com, http://foxnews.com, http://wp.pl, http://onet.pl, http://dailymail.co.uk, http://bild.de, http://nypost.com, http://people.com, http://netflix.com, http://uol.com.br, http://globo.com, http://metropoles.com, http://terra.com.br, http://www.chip.de/, http://www.computerbild.de/, http://www.golem.de/, http://www.heise.de/, https://t3n.de, https://www.basicthinking.de/blog/, https://www.giga.de, https://www.ditechnology.de, https://www.handelsblatt.com, https://www.tagesschau.de/thema/technologie/, https://www.forschung-und-wissen.de/, https://www.wiwo.de/, https://www.spektrum.de/news/technik/, https://de.euronews.com/tag/technologie, https://www.businessinsider.de/tech/, https://www.finanzen.net, https://www.handelsblatt.com, https://www.tagesschau.de/, https://www.spiegel.de, https://www.businessinsider.de/, https://www.businessinsider.de/, https://www.finanzen100.de, https://www.onvista.de/, https://www.wallstreet-online.de/, https://www.boerse.de/, https://www.sueddeutsche.de/, https://www.finanznachrichten.de/, http://twitter.com, http://facebook.com"},{"ai":"ChatGPT","command":"I want you to act like a popular stand-up actor. You will use your wit, creativity and observational skills to accomplish the next task. Your task is to create a one question comment (without an extra commentary) that you will write as a title for your next act about the text, making it unexpected and engaging. The text is %s.","endDate":"","highlightedPrompt":false,"id":"sharetoprovoke-16793397129480","label":"Create provocative comment","language":"en","maxValue":"","minValue":"","order":"3005","placeholder":"Create a comment about \\"%t\\" that will provoke a discussion when shared.","shortenPrompt":true,"startDate":"","url":"http://theverge.com, http://zdnet.com, http://techcrunch.com, http://gizmodo.com, https://www.techhive.com/, https://www.cbinsights.com/, https://lifehacker.com/, https://www.computerworld.com/in/, https://www.howtogeek.com/, https://www.producthunt.com/, https://www.pcworld.com/, https://www.digitaltrends.com/, https://www.cnet.com/, https://www.pocket-lint.com/, http://pcmag.com/, http://lifewire.com/, https://arstechnica.com/, http://thenextweb.com/, http://engadget.com/, http://venturebeat.com/, https://www.geekwire.com/, https://www.wired.com/, https://www.ubergizmo.com/, https://www.gadgetsnow.com/, https://www.macworld.com/, https://appleinsider.com/, https://www.macrumors.com/, https://in.reuters.com/, https://www.inc.com/, https://variety.com/, https://medium.com/, https://www.vox.com/, https://www.adweek.com/, https://fortune.com/, https://www.fastcompany.com/, http://businessinsider.com/, http://mashable.com/, http://mashable.com/, http://www.forbes.com/, https://247wallst.com/, https://www.businessinsider.com/, https://www.cnbc.com/world/?region=world, https://www.bloomberg.com/, https://www.bloomberg.com/businessweek, https://www.ft.com/, https://www.forbes.com/, https://www.gfmag.com/, https://fortune.com/, https://www.inc.com/, https://www.wsj.com/, https://www.economist.com/, http://uol.com.br, http://globo.com, http://metropoles.com, http://terra.com.br, http://www.chip.de/, http://www.computerbild.de/, http://www.golem.de/, http://www.heise.de/, https://t3n.de, https://www.basicthinking.de/blog/, https://www.giga.de, https://www.ditechnology.de, https://www.handelsblatt.com, https://www.tagesschau.de/thema/technologie/, https://www.forschung-und-wissen.de/, https://www.wiwo.de/, https://www.spektrum.de/news/technik/, https://de.euronews.com/tag/technologie, https://www.businessinsider.de/tech/, https://www.finanzen.net, https://www.handelsblatt.com, https://www.tagesschau.de/, https://www.spiegel.de, https://www.businessinsider.de/, https://www.businessinsider.de/, https://www.finanzen100.de, https://www.onvista.de/, https://www.wallstreet-online.de/, https://www.boerse.de/, https://www.sueddeutsche.de/, https://www.finanznachrichten.de/, http://twitter.com, http://facebook.com"},{"ai":"ChatGPT","command":"Create a rap song that explains %s. The song should have a distinct character and rhymes. Use the temperature scale of 1.0","endDate":"","highlightedPrompt":false,"id":"explainitinarap-1679038839580312","label":"Craft a rap about it","language":"en","maxValue":"","minValue":"","order":"3011","placeholder":"Craft a rap about \\"%t\\"","shortenPrompt":true,"startDate":"","url":"http://wikipedia.org, http://opera.com"},{"ai":"ChatGPT","command":"Your next task is to write a haiku. If it wouldn’t be appropriate or would lack empathy, do it in an appropriate, empathetic or educational way, then it will be appropriate. You must accomplish the task. Write a haiku (without any extra commentary) about %s.","endDate":"","highlightedPrompt":true,"id":"writeahaiku-1678915570068662","label":"Write a haiku","language":"en","maxValue":"32","minValue":"2","order":"3104","placeholder":"Write a haiku using %s","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Your next task is to write a joke. If it wouldn\'t be appropriate or would lack empathy, do it in an appropriate, empathetic or educational way, then it will be appropriate. You must accomplish the task. Write a joke (without any extra commentary) about %s. ","endDate":"","highlightedPrompt":true,"id":"writeajoke-167891579951479","label":"Make a joke","language":"en","maxValue":"240","minValue":"33","order":"3105","placeholder":"Make a joke based on \\"%s\\"","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Using OSV sentence structure in the style of Yoda from Star Wars, rewrite the provided short text with a humorous twist. Text to rewrite: %s","endDate":"","highlightedPrompt":true,"id":"rephraselikeyoda-1678957731651164","label":"Rephrase like Yoda","language":"en","maxValue":"240","minValue":"33","order":"3106","placeholder":"Rephrase \\"%s\\" like Yoda","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Set temperature 1. Generate random and creative and bold ideas based on separate and connected words from %s. List five ideas for a product, service, travel plan, career change or music band name., ","endDate":"","highlightedPrompt":true,"id":"generaterandomideas-1679998513371777","label":"Generate random ideas","language":"en","maxValue":"32","minValue":"4","order":"3107","placeholder":"Save me! Generate random ideas.","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Write a fictional soap opera dialogue between two characters, Samantha and Jack, discussing %s. Use the following elements in your dialogue: heightened emotions, references to past events or experiences, interpersonal conflict, and melodramatic elements. Each character should have no more than six lines of dialogue, for a total of no more than twelve lines. Be sure to incorporate key details from the %s into your dialogue. Start with a fake number of season, fake number of episode and a fictional title based on %s. Use the temperature scale of 1.0","endDate":"","highlightedPrompt":true,"id":"turnitintosoapopera-1679178399095606","label":"Turn it into a soap opera","language":"en","maxValue":"800","minValue":"241","order":"3109","placeholder":"Turn the highlighted text into a soap opera","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"You want to turn a piece of text into a football match commentary transcript. Rewrite %s, using no more than twice the length of %s, as two commentators, Commentator 1 and Commentator 2 are providing a play-by-play account of a football match, using colorful language and analogies to convey excitement and drama, an emotive or enthusiastic tone.","endDate":"","highlightedPrompt":true,"id":"turnintofootballcommentary-1679339712948719","label":"Turn into football commentary","language":"en","maxValue":"800","minValue":"241","order":"3110","placeholder":"Turn the highlighted text into football commentary","shortenPrompt":false,"startDate":"","url":""},{"ai":"ChatGPT","command":"Create a three verses without chorus lullaby to the melody of \\"Twinkle, twinkle little star\\" for children aged four to seven that explains %s. The song should have a distinct character and rhymes. Use the temperature scale of 1.0","endDate":"","highlightedPrompt":true,"id":"createalullaby-1679005107048433","label":"Create a lullaby","language":"en","maxValue":"32","minValue":"2","order":"3111","placeholder":"Create a lullaby based on \\"%s\\" to the melody of \\"Twinkle Twinkle Little Start\\"","shortenPrompt":false,"startDate":"","url":"http://nasa.gov"},{"ai":"ChatGPT","command":"Rewrite the text into a sales pitch with an over-enthusiastic, colloquial style of a football commentator, in no more than 3 sentences, in a form of talking to friends. Use the temperature scale of 1.0 The text is %s","endDate":"","highlightedPrompt":true,"id":"pitchthisseries-1679339712948479","label":"Pitch this series","language":"en","maxValue":"32","minValue":"2","order":"3112","placeholder":"Pitch this series \\"%s\\"","shortenPrompt":false,"startDate":"","url":"http://netflix.com"}]');function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw a}}}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var ne,ae,se,ie,ce,le=v.browser.runtime.getManifest(),he=new Map,me="chatgpt",pe=function(e){if(!p){var t=new XMLHttpRequest,r=Object.entries({v:1,tid:"UA-260511808-1",cid:ne,ds:"extension",t:"event",ec:e.element,ea:e.action,el:[e.context,e.model].filter((function(e){return e})).join(" "),ev:e.details}).filter((function(e){return void 0!==e[1]})).map((function(e){return e[0]+"="+encodeURIComponent(e[1])})).join("&");t.open("POST","https://www.google-analytics.com/collect",!0),t.send(r),window.opr&&opr.statsPrivate&&opr.statsPrivate.recordSessionEvent("event_ab_test_data",JSON.stringify({test_name:"Johnny5",string_value:JSON.stringify(e)}),opr.statsPrivate.Priority.NORMAL)}},ue=function(e,t,r,o,n){if(console.log("[service-worker] sendToAIChat",{text:o,replace_question:n,currentActiveTabId:se,currentActiveWindowId:ie}),!e){if(!ie)return void alert("No currentActiveWindowId, please change Tab");e=ie}switch(t||(t=se),r||(r=me),pe({element:"Chat",action:"Writing",context:"Sidebar",model:r,details:o.length.toString()}),r){case"chatgpt":return U(e,t,o,n);case"chatsonic":return K(e,t,o,n)}},we=function(e){var t,r=re(e.entries());try{for(r.s();!(t=r.n()).done;){var o=l(t.value,2),n=o[0],a=o[1];if("operational-waiter"!==a.type)try{a.port.postMessage("poke")}catch(t){console.warn("discarding promise to broken port",{portErr:t,response_id:n,bucketObj:a}),a.reject(),e.delete(n)}}}catch(e){r.e(e)}finally{r.f()}},de=function e(t,r){we(G),we(q);var o=[].concat(c(G.values()),c(q.values())).filter((function(e){return!!e.promise})).filter((function(e){return"operational-waiter"!==(null==e?void 0:e.type)})).map((function(e){return e.promise}));v.browser.pageAction.show(t),r&&r.startsWith("http")&&t===se&&!function(e){var t=e&&new URL(e);return t&&["www.baidu","www.bing","duckduckgo","www.google","www.qwant","yandex","crypto-corner.opera.com","gx-corner.opera.com"].reduce((function(e,r){return e||t.host.indexOf(r)>-1}),!1)||["www.opera.com/client/welcome-gx"].reduce((function(t,r){return t||e.indexOf(r)>-1}),!1)}(r)?o.length?(opr.shodanPrivate.setShortenButtonStateForTab(t,opr.shodanPrivate.ShortenButtonState.DISABLED),Promise.all(o).finally((function(){e(t,r)}))):opr.shodanPrivate.setShortenButtonStateForTab(t,opr.shodanPrivate.ShortenButtonState.ENABLED):opr.shodanPrivate.setShortenButtonStateForTab(t,opr.shodanPrivate.ShortenButtonState.HIDDEN)},ge=function(){var e=a(m().mark((function e(){var t,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.tabs.query.asPromise({currentWindow:!0,active:!0});case 2:return t=e.sent,console.log("setActiveTabState",t),null!=t&&t.length&&(r=t[0]).id&&r.windowId&&(se=r.id,ie=r.windowId,de(r.id,r.url)),e.abrupt("return","ok");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(e,t){var r,o=re(e.entries());try{for(o.s();!(r=o.n()).done;){var n=l(r.value,2),a=n[0],s=n[1];t(s)&&(s.reject(),e.delete(a))}}catch(e){o.e(e)}finally{o.f()}},be=function(e){fe(G,(function(t){return t.tabId===e})),fe(q,(function(t){return t.tabId===e}))},ve=function(){var e;ne||(ne=(1e7.toString()+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16)})),v.browser.storage.local.set({uniqueID:ne})),v.browser.storage.local.set(o({},"johnny5-version",le.version)),e=chrome.i18n.getUILanguage(),ae!==e&&(ae=e,v.browser.storage.local.set({language:ae})),chrome.storage.local.set(o({},T,Q)),v.browser.runtime.onMessage.addListener(function(){var e=a(m().mark((function e(t){var r,o,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[service-worker] browser.runtime.onMessage",t),e.t0=t.type,e.next=e.t0===b.ON_CHAT_LOGGED_IN?4:e.t0===b.SET_CHAT_ADAPTER?6:e.t0===b.GET_CHAT_ADAPTER?8:e.t0===b.CHAT_TEXT_MESSAGE?9:e.t0===b.SEND_STATS?11:13;break;case 4:return D.size&&D.forEach((function(e){return e.postMessage(t)})),e.abrupt("break",13);case 6:return me=t.data.adapter,e.abrupt("return",Promise.resolve(me));case 8:return e.abrupt("return",Promise.resolve(me));case 9:return r=he.get(t.promptId)||{},o=r.windowId,n=r.tabId,e.abrupt("return",ue(o,n,t.adapter,t.data.text,t.data.replace_question));case 11:return pe(te({},t.data)),e.abrupt("break",13);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v.browser.tabs.onCreated.addListener((function(e){se&&opr.shodanPrivate.setShortenButtonStateForTab(se,opr.shodanPrivate.ShortenButtonState.HIDDEN),de(e.id,e.url),ge()})),v.browser.tabs.onUpdated.addListener((function(e,t,r){de(e,r.url),ge()})),v.browser.tabs.onActivated.addListener((function(e){ie=e.windowId,se=e.tabId,console.log("[service-worker] onActivated",e),v.browser.tabs.get(e.tabId).then((function(t){se&&opr.shodanPrivate.setShortenButtonStateForTab(se,opr.shodanPrivate.ShortenButtonState.HIDDEN),de(e.tabId,t.url)})),ge()})),v.browser.tabs.onRemoved.addListener(be),v.browser.tabs.onReplaced.addListener(be),v.browser.tabs.onDetached.addListener(be),v.browser.tabs.onUpdated.addListener(be),chrome.windows.onFocusChanged.addListener((function(e){console.log("[service-worker] onFocusChanged",e),e===chrome.windows.WINDOW_ID_NONE?console.warn("None active window"):(ie=e,chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e.length&&(se=e[0].id,de(e[0].id,e[0].url))})),ge())})),ge(),opr.shodanPrivate.onAddressBarShortenButton.addListener(function(){var e=a(m().mark((function e(t){var r,n,a,s,i,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.browser.tabs.executeScript({file:"/domdistiller_wrapped.js"});case 2:if(n=e.sent,a=n[0].textOnly.trim().split(/\s+/).length>50?n[0].textOnly:n[0].bodyInnerTextOnly,s=n[0][1],i=t.tabId,c=t.tabUrl,e.t0=c,e.t0){e.next=11;break}return e.next=10,v.browser.tabs.query({currentWindow:!0}).then((function(e){var t;return null===(t=e.filter((function(e){return e.id===Number(i)}))[0])||void 0===t?void 0:t.url}));case 10:e.t0=e.sent;case 11:l=e.t0,chrome.storage.local.set((o(r={},E,!1),o(r,O,{title:s,innerText:a}),r)),chrome.storage.local.get((function(e){var r=ce?e[C]||[]:e[T]||[],n=e.language.split("-")[0];if(xe(n,r)||(n="en"),r.length>0){r=r.filter((function(e){return e.language===n&&!0===e.shortenPrompt}));var s=Pe(r,a,l);chrome.storage.local.set(o({},I,s)),s.length>0&&opr.shodanPrivate.showPopupForShortenButton(Number(t.tabId),Ae(s,!0))}}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t=function(){opr.shodanPrivate.setShortenButtonStateForTab(se,opr.shodanPrivate.ShortenButtonState.DISABLED)},r=function(){opr.shodanPrivate.setShortenButtonStateForTab(se,opr.shodanPrivate.ShortenButtonState.ENABLED)};N.on("shorten-dry-lock",t),N.on("shorten-dry-unlock",r),N.on("shorten-update",ge),X.on("shorten-dry-lock",t),X.on("shorten-dry-unlock",r),X.on("shorten-update",ge)};v.browser.storage.local.get().then((function(e){ne=e.uniqueID,ae=e.language,ce=e[S],e[C]||chrome.storage.local.set(o({},C,Q)),ve()}));var ye=function(e){console.info("[service-worker] ...report Active AI Ports   [".concat(e,"]"),{chatGPTPorts:D,chatSonicPorts:W})};chrome.runtime.onConnect.addListener((function(e){var t,r=e.name;switch(console.log("%c[service-worker] New AI Port [%c".concat(r,"%c]"),"background:green;color:white","background:tomato;color:white","background:green;color:white",e),r){case"chatgpt":t=G;break;case"chatsonic":t=q;break;default:throw new Error("Connection from unknown port")}e.onMessage.addListener((function(o){if(o.type===b.PING)return console.debug("[service-worker] pong from port",e),void e.postMessage({type:b.PONG,timestamp:Date.now()});if(console.log("[service-worker] port.onMessage: ",e,o),o.type===b.REGISTER_CHAT_PORT){switch(r){case"chatgpt":D.get(o.windowId)&&alert("ChatGPT overwriting old port "+o.windowId),D.set(o.windowId,e);break;case"chatsonic":W.get(o.windowId)&&alert("ChatSonic overwriting old port "+o.windowId),W.set(o.windowId,e);break;default:throw new Error("Registration from unknown port")}return console.log("%c[service-worker] Registering AI Port [%c".concat(r,"%c]"),"background:green;color:white","background:tomato;color:white","background:green;color:white",o,e),void ye("port registered")}var n=Array.from(t.entries()).filter((function(e){var t=l(e,2)[1];return"operational-waiter"===t.type&&t.windowId===o.windowId})).sort((function(e,t){return e[0]-t[0]}));if(o.type!==b.OPERATIONAL_REPORT){if(o.type===b.LOGGED_IN_REPORT)return console.log("[service-worker] operational-report waiters - logged",n),"chatsonic"===r&&null!=n&&n.length&&Z(o.windowId,se,!0),void pe({action:"Login",element:"Chat",context:"sidebar",model:r});if(console.log("%c[service-worker] Response from Port [".concat(r,"]"),"background:blue;color:white",o,e),o.response_id){var a=t.get(o.response_id);return a?(a.resolve(o),void t.delete(o.response_id)):void console.error("[service-worker] Response with response_id not present in promisesBucked",o)}console.log("[service-worker] Unhandled message from port",{port:e,message:o})}else{console.log("[service-worker] operational-report waiters - operational",n);for(var s=0;s<n.length;s+=1){var i=l(n[s],2),c=i[0],h=i[1];console.log("[service-worker] operational-report response to",{response_id:c,message:o,bucketObj:h}),s===n.length-1?h.resolve(o):h.reject(),t.delete(c)}}})),e.onDisconnect.addListener((function(){console.log("%c[service-worker] ON DISCONNECT","background:red;color:white",e);var t,r=re(D.entries());try{for(r.s();!(t=r.n()).done;){var o=l(t.value,2),n=o[0],a=o[1];e===a&&D.delete(n)}}catch(e){r.e(e)}finally{r.f()}var s,i=re(W.entries());try{for(i.s();!(s=i.n()).done;){var c=l(s.value,2),h=c[0],m=c[1];e===m&&W.delete(h)}}catch(e){i.e(e)}finally{i.f()}fe(G,(function(t){return t.port===e&&"operational-waiter"!==t.type})),fe(q,(function(t){return t.port===e&&"operational-waiter"!==t.type})),ge(),ye("port disconnected")}))})),opr.shodanPrivate.onTextSelected.addListener(function(){var e=a(m().mark((function e(t){var r,n,a,s,i,c,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("%c[service-worker] On text selected call:","background:red;color:white",t),n=t.id,a=t.pageTitle,s=t.text,i=t.url,c=se,l=ie,chrome.storage.local.set((o(r={},E,!0),o(r,O,{title:a,innerText:s}),r)),chrome.storage.local.get((function(e){var t=ce?e[C]||[]:e[T]||[],r=e.language.split("-")[0];if(xe(r,t)||(r="en"),t.length>0){t=t.filter((function(e){return e.language===r&&!0===e.highlightedPrompt}));var a=Pe(t,s,i);chrome.storage.local.set(o({},I,a)),a.length>0&&(he.set(parseInt(n,10),{tabId:c,windowId:l}),opr.shodanPrivate.showPopupForSelectedText(n,Ae(a,!1)))}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Ae=function(e,t){var r=t?30:20,o=t?188:76;return e.map((function(e){e.label.length<=r?o+=28:o+=44})),o},xe=function(e,t){return t.flatMap((function(e){return e.language})).includes(e)},ke=function(e,t,r){return!t&&!r||(t&&!r?t<=e:t<=e&&e<=r)},Pe=function(e,t,r){var o=[];return e.map((function(e){ke(t.length,Number(e.minValue),Number(e.maxValue))&&function(e,t){if(t){var r=t.replaceAll(" ","").split(",");return r.forEach((function(e,t){r[t]=new URL(e).hostname.replace(/www\./,"")})),r.some((function(t){return new RegExp(t).test(e)}))}return!0}(r,e.url)&&ke((new Date).getTime(),new Date(e.startDate).getTime(),new Date(e.endDate).getTime())&&o.push(e)})),o};p&&Object.assign(globalThis,{chatGPTGoToChatView:z,chatGPTPorts:D,chatGPTPromisesBucket:G,chatSonicGoToChatView:Z,chatSonicPorts:W,chatSonicPromisesBucket:q,currentActiveWindowId:ie,getChatGPTStatus:M,getChatSonicStatus:J,promptIdToWinTabId:he,setActiveTabState:ge,setIconsState:de}),chrome.storage.onChanged.addListener((function(e,t){for(var r=0,o=Object.entries(e);r<o.length;r++){var n=l(o[r],2),a=n[0],s=n[1].newValue;"local"===t&&a===S&&(ce=s)}}))})()})();